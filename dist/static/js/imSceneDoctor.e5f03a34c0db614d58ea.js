webpackJsonp([3],{10:function(e,t,a){function s(e){a(24)}var n=a(2)(a(25),a(26),s,null,null);e.exports=n.exports},121:function(e,t,a){"use strict";function s(){var e=r.a.getCookie("env"),t=window.location.host,a="";return"m9.allinmed.cn"===t&&"online"===e?new o.a(function(e,t){Object(i.a)({url:c,method:"POST",data:{firstResult:0,maxResult:1},done:function(t){t.responseObject.responseStatus&&(a=t.responseObject.responseData.accessKey,e(a))}})}):new o.a(function(e,t){e("50c93d2ab7e207fd83231a245c07bfbc")})}t.a=s;var n=a(11),o=a.n(n),r=a(3),i=a(6),c="/mcall/im/interact/v1/getToken/"},122:function(e,t,a){function s(e){a(123)}var n=a(2)(a(124),a(125),s,null,null);e.exports=n.exports},123:function(e,t){},124:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(16),n=a(139),o=a.n(n),r=a(64),i=(a.n(r),a(90));a.n(i);s.a.use(o.a),t.default={name:"carrousel",data:function(){return{imageListBox:[],swiperOption:{notNextTick:!0,autoplay:3e3,direction:"horizontal",grabCursor:!0,setWrapperSize:!0,zoom:!1,autoHeight:!0,pagination:".swiper-pagination",paginationType:"fraction",paginationClickable:!0,mousewheelControl:!0,observeParents:!0,debugger:!0}}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},mounted:function(){this.imageListBox=this.$route.params.imgBlob;var e=this.$route.params.indexNum;this.swiper.slideTo(e,0,!1)},activated:function(){},methods:{imageClickFn:function(){this.$router.go(-1)}}}},125:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"ev-showBigImg",on:{click:e.imageClickFn}},[a("swiper",{ref:"mySwiper",attrs:{options:e.swiperOption}},[e._l(e.imageListBox,function(e,t){return a("swiper-slide",{key:e.imgId},[a("div",{staticClass:"swiper-zoom-container"},[a("img",{attrs:{src:e.blob,alt:""}})])])}),e._v(" "),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},staticRenderFns:[]}},128:function(e,t){e.exports="data:image/png;base64,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"},129:function(e,t){e.exports="data:image/png;base64,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"},13:function(e,t){!function(e,t){function a(){var t=o.getBoundingClientRect().width;t/c>540&&(t=540*c);var a=t/10;o.style.fontSize=a+"px",l.rem=e.rem=a}var s,n=e.document,o=n.documentElement,r=n.querySelector('meta[name="viewport"]'),i=n.querySelector('meta[name="flexible"]'),c=0,u=0,l=t.flexible||(t.flexible={});if(r){console.warn("将根据已有的meta标签来设置缩放比例");var d=r.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(u=parseFloat(d[1]),c=parseInt(1/u))}else if(i){var p=i.getAttribute("content");if(p){var m=p.match(/initial\-dpr=([\d\.]+)/),g=p.match(/maximum\-dpr=([\d\.]+)/);m&&(c=parseFloat(m[1]),u=parseFloat((1/c).toFixed(2))),g&&(c=parseFloat(g[1]),u=parseFloat((1/c).toFixed(2)))}}if(!c&&!u){var f=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),h=e.devicePixelRatio;c=f?h>=3&&(!c||c>=3)?3:h>=2&&(!c||c>=2)?2:1:1,u=1/c}if(o.setAttribute("data-dpr",c),!r)if(r=n.createElement("meta"),r.setAttribute("name","viewport"),r.setAttribute("content","initial-scale="+u+", maximum-scale="+u+", minimum-scale="+u+", user-scalable=no"),o.firstElementChild)o.firstElementChild.appendChild(r);else{var v=n.createElement("div");v.appendChild(r),n.write(v.innerHTML)}e.addEventListener("resize",function(){clearTimeout(s),s=setTimeout(a,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(s),s=setTimeout(a,300))},!1),"complete"===n.readyState?n.body.style.fontSize=12*c+"px":n.addEventListener("DOMContentLoaded",function(e){n.body.style.fontSize=12*c+"px"},!1),a(),l.dpr=e.dpr=c,l.refreshRem=a,l.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},l.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))},130:function(e,t){e.exports="data:image/png;base64,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"},131:function(e,t){e.exports="data:image/png;base64,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"},1318:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),n=a.n(s),o=a(1),r=a.n(o),i=a(16),c=a(1319),u=a.n(c),l=a(53),d=a(97),p=(a.n(d),a(39),a(44)),m=(a.n(p),a(21)),g=(a.n(m),a(47)),f=a.n(g),h=a(3),v=a(1323),y=a.n(v),I=a(122),S=a.n(I),C=a(1380),T=a.n(C),w=a(239),b=(a(238),a(7));a.n(b);f.a.attach(document.body);var x=function(){function e(){n()(this,e),h.a.checkOpenId()?this.init():h.a.wxGetOpenId(1)}return r()(e,[{key:"init",value:function(){i.a.use(l.a),this.routerStart(),this.registerRouter();new i.a({store:w.a,router:this.router,render:function(e){return e(u.a)}}).$mount("#imSceneDoctor")}},{key:"registerRouter",value:function(){this.router=new l.a({routes:this.routes})}},{key:"routerStart",value:function(){this.routes=[{path:"/",redirect:"/BaseIm"},{path:"/BaseIm",name:"BaseIm",meta:{keepAlive:!0},component:y.a},{path:"/ShowBigImg",name:"showBigImg",meta:{keepAlive:!1},component:S.a},{path:"/MedicalReportDetail",name:"MedicalReportDetail",meta:{keepAlive:!0},component:T.a}]}}]),e}();new x},1319:function(e,t,a){function s(e){a(1320)}var n=a(2)(a(1321),a(1322),s,"data-v-831a705e",null);e.exports=n.exports},132:function(e,t){e.exports="data:image/png;base64,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"},1320:function(e,t){},1321:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(13);a.n(s);t.default={data:function(){return{}},components:{}}},1322:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%",height:"100%"}},[a("keep-alive",[e.$route.meta.keepAlive?a("router-view",{staticStyle:{"min-height":"100%"}}):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():a("router-view",{staticStyle:{"min-height":"100%"}})],1)},staticRenderFns:[]}},1323:function(e,t,a){function s(e){a(1324)}var n=a(2)(a(1325),a(1379),s,null,null);e.exports=n.exports},1324:function(e,t){},1325:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(8),n=a.n(s),o=a(82),r=a.n(o),i=a(3),c=a(95),u=a.n(c),l=a(239),d=a(5),p=a(1326),m=a.n(p),g=a(1330),f=a.n(g),h=a(1334),v=a.n(h),y=a(1338),I=a.n(y),S=a(1342),C=a.n(S),T=a(1346),w=a.n(T),b=(a(1350),a(1354)),x=a.n(b),P=a(1358),O=a.n(P),_=a(1362),k=a.n(_),M=a(1366),A=a.n(M),D=a(1370),R=a.n(D),L=a(1374),j=a.n(L),N=a(10),F=a.n(N),B=a(158),E=a.n(B),U=(a(38),a(121)),q=a(313),J=a(1378),W=a.n(J),Q={getToken:"/mcall/im/interact/v1/refreshToken/",getMedicalList:"/mcall/customer/patient/case/v1/getMapById/",updateMedicalList:"/mcall/customer/patient/case/v1/update/",triageAssign:"/mcall/customer/case/consultation/v1/create/",getTriageId:"/mcall/customer/case/consultation/v1/getMapById/",time:"/mcall/customer/case/consultation/v1/getConsultationFrequency/",refresh:"/mcall/customer/case/consultation/v1/update/",updateCount:"/mcall/customer/case/consultation/v1/updateFrequency/",getBaseInfo:"/mcall/customer/patient/baseinfo/v1/getMapList/",getDoctorBaseMsg:"/mcall/customer/auth/v1/getSimpleById/"},V=d.a.browser().ios,Z=d.a.browser().android;t.default={data:function(){return{isIos:navigator.userAgent.toLowerCase().includes("iphone"),nim:{},imageProgress:{uploading:!1,progress:0,index:0},onFocus:!1,inputFlag:!0,loading:!0,payPopupShow:!1,shuntCustomerId:"",bottomTipsShow:!1,bottomTipsType:"",receiveTreatmentStatus:!1,receiveTime:"",imageList:[],consultationId:"",timeStampShowList:[],orderSourceId:"",triageOrderSourceId:"",beginTimestamp:0,finish:!0,lastTimeShow:!1,inputBoxShow:!1,msgList:[],targetMsg:[],from:i.a.getPara().from,imageLastIndex:0,userData:{account:"",token:""},targetData:{account:"2_"+i.a.getPara().doctorCustomerId},sendTextContent:"",footerPosition:"main-input-box",scrollHeight:document.body.scrollTop}},methods:{setFooterPosition:function(){V?this.footerPosition="main-input-box relative":Z&&(this.footerPosition="main-input-box absolute")},focusFn:function(){navigator.userAgent.toLowerCase().includes("11")?this.scrollToBottom():this.interval=setInterval(function(){document.body.scrollTop=document.body.scrollHeight-200},100),this.onFocus=!0,this.autoSizeTextarea()},blurFn:function(){var e=this;navigator.userAgent.toLowerCase().includes("11")?this.scrollToBottom():(clearInterval(this.interval),setTimeout(function(){document.body.scrollTop=e.bfscrolltop},20)),this.onFocus=!1,this.autoSizeTextarea()},connectToNim:function(){var e=this,t=this;Object(U.a)().then(function(a){e.nim=NIM.getInstance({appKey:a,account:e.userData.account,token:e.userData.token,onconnect:function(e){console.log("连接成功"),t.triageDoctorAssign(),t.getPatientBase()},onmyinfo:function(e){t.getMessageList()},onwillreconnect:function(e){console.log("已重连"+e.retryCount+"次，"+e.duration+"后将重连...")},ondisconnect:function(){console.log("链接已中断...")},onerror:e.onError,onroamingmsgs:function(e){console.log("漫游消息...")},onofflinemsgs:function(e){console.log("离线消息..."),e.msgs.forEach(function(e,a){t.msgList.push(a)})},onmsg:function(e){if(console.log(e),e.from===t.targetData.account&&(t.msgList.push(e),t.scrollToBottom(),t.receiveSpecialMessage(e),t.getTimeStampShowList(e),t.minusLastCount(e),t.getFirstTargetMsg(e),"image"===e.type)){var a=t.nim.viewImageQuality({url:e.file.url,quality:40});t.imageList.push(a)}}})})},getFirstTargetMsg:function(e){e.from===this.targetData.account&&this.targetMsg.push(e)},minusLastCount:function(e){"custom"!==e.type&&l.a.commit("lastCountMinus")},receiveSpecialMessage:function(e){if("custom"===e.type&&JSON.parse(e.content)&&"notification"===JSON.parse(e.content).type){var t=JSON.parse(e.content).data.actionType;switch(parseInt(t)){case 1:break;case 2:this.lastTimeShow=!0,l.a.commit("setLastCount",3),l.a.commit("setLastTime",432e6),l.a.commit("lastTimeCount"),this.payPopupShow=!1;break;case 3:this.lastTimeShow=!1,this.showBottomTips(2);break;case 4:this.getLastTime(0)}}},getImageList:function(){var e=this;this.$refs.bigImg&&this.$refs.bigImg.forEach(function(t,a){e.imageList.push(t.imageMessage.file.url)})},getUserBaseData:function(){var e=this;i.a.ajax({url:Q.getToken,method:"POST",data:{accid:"0_"+i.a.getPara().caseId},beforeSend:function(){this.finish=!1},done:function(t){t.responseObject.responseStatus&&(e.userData={account:"0_"+i.a.getPara().caseId,token:t.responseObject.responseData.token}),e.finish=!0,u()(e.$refs.inputTextarea),e.connectToNim()},fail:function(e){console.log(e.message)}})},receivedTreatment:function(e){var t=!1;return"custom"===e.type&&"notification"===JSON.parse(e.content).type&&4==JSON.parse(e.content).data.actionType&&(t=!0),t},receivedTreatOver:function(e){var t=!1;return"custom"===e.type&&"notification"===JSON.parse(e.content).type&&5==JSON.parse(e.content).data.actionType&&(t=!0),t},receivedSendCount:function(e){var t=!1;return"custom"===e.type&&"notification"===JSON.parse(e.content).type&&2==JSON.parse(e.content).data.actionType&&(t=!0),t},receivedBuyCount:function(e){var t=!1;return"custom"===e.type&&"notification"===JSON.parse(e.content).type&&1==JSON.parse(e.content).data.actionType&&0!==this.msgList.indexOf(e)&&(t=!0),t},receivedReportTips:function(e){var t=!1;return"custom"===e.type&&"notification"===JSON.parse(e.content).type&&6==JSON.parse(e.content).data.actionType&&0===this.msgList.indexOf(e)&&(t=!0),t},receiveMedicalReport:function(e){var t=!1;return"custom"===e.type&&"medicalReport"===JSON.parse(e.content).type&&this.msgList.indexOf(e)<=1&&(t=!0),t},firstReplyTips:function(e){var t=!1;return 1===this.targetMsg.indexOf(e)&&(t=!0),t},getMessageList:function(){var e=this;this.nim.getHistoryMsgs({scene:"p2p",to:this.targetData.account,done:function(t,a){e.getDoctorMsg(function(){e.msgList=a.msgs.reverse(),e.msgList.forEach(function(t,a){e.getTargetMessage(t),e.getTimeStampShowList(t)}),e.$nextTick(function(){setTimeout(function(){"push"===i.a.getPara().position&&e.$refs.outpatientInvite?e.scroll.scrollToElement(e.$refs.outpatientInvite[0].$el,1e3):e.scrollToBottom(),e.getImageList(),e.loading=!1},700)})})},limit:100}),e.checkFirstBuy()},getDoctorMsg:function(e){i.a.ajax({url:Q.getDoctorBaseMsg,method:"POST",data:{customerId:i.a.getPara().doctorCustomerId,logoUseFlag:5},done:function(t){if(t.responseObject&&t.responseObject.responseData){var a=t.responseObject.responseData.dataList[0];l.a.commit("setTargetMsg",{avatar:a.logoUrl,nick:a.customerName}),document.title=a.customerName+"医生",e&&e()}}})},getTargetMessage:function(e){e.from===this.targetData.account&&this.targetMsg.push(e)},getMedicalMessage:function(){var e=this;i.a.ajax({url:Q.getMedicalList,method:"POST",data:{caseId:i.a.getPara().caseId,attUseFlag:1,isOrder:0},beforeSend:function(e){},done:function(t){if(t.responseObject&&t.responseObject.responseData){var a=t.responseObject.responseData.dataList;a&&0!==a.length&&e.sendMedicalReport({data:{caseId:i.a.getPara().caseId,patientName:a[0].patientCasemap.patientName,sexName:a[0].patientCasemap.sexName,age:a[0].patientCasemap.age,createDate:(new Date).getTime(),diagnoseConTent:a[0].patientCasemap.caseMain.caseMain,isAttachment:a[0].patientCasemap.isAttachment,time:a[0].patientCasemap.caseTime,caseUrl:window.location.origin+"/pages/app_native/reservation_list.html?caseId="+i.a.getPara().caseId+"&isOrder=0"},type:"medicalReport"},a[0].patientCasemap.patientName)}}})},getPatientBase:function(e){var t=this;i.a.ajax({url:Q.getBaseInfo,method:"POST",data:{patientId:i.a.getPara().patientId,firstResult:"0",maxResult:"1"},done:function(a){if(a.responseObject&&a.responseObject.responseData){var s=a.responseObject.responseData.dataList;if(s&&0!==s.length){l.a.commit("setLogoUrl",{age:s[0].patientAge,sexName:1==s[0].patientSex?"男":"女"});var n={nick:s[0].patientName,avatar:t.$store.state.logoUrl,sign:"newSign",gender:"1"===s[0].patientSex?"male":"female",email:"",birth:"",tel:""};t.nim.updateMyInfo(n),t.userData=r()(t.userData,n),e&&e(n)}}}})},sendMedicalReport:function(e,t){var a=this;this.nim.sendCustomMsg({scene:"p2p",to:this.targetData.account,custom:n()({cType:"1",cId:i.a.getPara().doctorCustomerId,mType:"27",conId:a.orderSourceId}),content:n()(e),isPushable:!1,done:function(e,t){a.sendMessageSuccess(e,t),a.sendHistoryTips()}})},sendHistoryTips:function(){var e=this;this.nim.sendCustomMsg({scene:"p2p",to:this.targetData.account,custom:n()({cType:"1",cId:i.a.getPara().doctorCustomerId,mType:"44",conId:this.orderSourceId}),content:n()({type:"getHistoryTip",data:{caseId:this.targetData.account.substring(2)}}),isPushable:!1,done:function(t,a){e.sendMessageSuccess(t,a)}})},triageDoctorAssign:function(){var e=this;i.a.ajax({url:Q.getTriageId,method:"POST",data:{caseId:i.a.getPara().caseId,consultationType:1,sortType:1,firstResult:0,maxResult:9999,customerId:i.a.getPara().doctorCustomerId},done:function(t){if("NO DATA"===t.responseObject.responseMessage)e.createTriageMessage();else{var a=t.responseObject.responseData.dataList;e.orderSourceId=a[0].consultationId,e.getLastTime(parseInt(a[0].consultationState)),e.firstMessageType(parseInt(a[0].consultationState))}}})},firstMessageType:function(e){var t=this;e<0&&setTimeout(function(){"report"===i.a.getPara().from&&localStorage.getItem("noMR")?t.$refs.reportTip||t.getPatientBase(t.sendReportTipMessage):t.$refs.medicalReport||t.getPatientBase(t.getMedicalMessage)},1e3)},sendReportTipMessage:function(e){var t=this;this.nim.sendCustomMsg({scene:"p2p",to:this.targetData.account,custom:n()({cType:"1",cId:i.a.getPara().doctorCustomerId,mType:"21",conId:t.orderSourceId}),content:n()({type:"notification",data:{actionType:"6",contentDesc:"患者向您报到",subContentDesc:"[患者向您报到]"}}),needPushNick:!1,pushContent:"患者<"+(e.nick?e.nick:"")+">向您问诊，点击查看详情",pushPayload:n()({account:"0_"+i.a.getPara().caseId,type:"1"}),done:function(e,a){t.sendMessageSuccess(e,a),localStorage.removeItem("noMR")}})},createTriageMessage:function(){var e=this;i.a.ajax({url:Q.triageAssign,method:"POST",data:{caseId:i.a.getPara().caseId,customerId:i.a.getPara().doctorCustomerId,patientCustomerId:i.a.getPara().patientCustomerId,patientId:i.a.getPara().patientId,consultationType:1,consultationState:-1,siteId:17},done:function(t){t.responseObject.responseStatus&&(console.log("用户已分流..."),e.orderSourceId=t.responseObject.responsePk,e.getLastTime(-1),e.firstMessageType(-1))}})},getLastTime:function(e){var t=this;i.a.ajax({url:Q.time,method:"POST",data:{caseId:i.a.getPara().caseId,customerId:i.a.getPara().doctorCustomerId,isValid:1,consultationType:1,firstResult:0,maxResult:9999},done:function(a){if(t.inputBoxShow=!0,a.responseObject.responseStatus){var s=a.responseObject.responseData.dataList,n=parseInt(s.remainingTime),o=parseInt(s.consultationFrequency),r=parseInt(s.receiveTime);t.shuntCustomerId=s.triageCustomerId,t.triageOrderSourceId=s.triageConsultationId,e<0?(t.receiveTreatmentStatus=!1,r<=0?t.showBottomTips(-1):(t.receiveTime=r,t.remainTimeOut())):0===e?(t.receiveTreatmentStatus=!0,l.a.commit("setConsultation",s.consultationId),n>0&&o>0?(l.a.commit("setLastTime",n),l.a.commit("lastTimeCount"),l.a.commit("setLastCount",o),t.lastTimeShow=!0):(t.lastTimeShow=!1,t.showBottomTips(1))):3==e?(t.lastTimeShow=!1,t.showBottomTips(-1)):2==e?(t.lastTimeShow=!1,t.showBottomTips(2)):1==e&&(t.lastTimeShow=!1,t.showBottomTips(1)),t.$nextTick(function(){u()(t.$refs.inputTextarea)})}},fail:function(e){console.log(e.message)}})},showBottomTips:function(e){this.bottomTipsShow=!0,this.bottomTipsType=e,this.scrollToBottom()},autoSizeTextarea:function(){var e=this;return e.sendTextContent=e.textLength,u.a.update(e.$refs.inputTextarea),!1},sendMessage:function(){var e=this;if(e.sendTextContent=e.textLength,""===e.sendTextContent)return u.a.update(e.$refs.inputTextarea),!1;var t=this.sendTextContent;this.sendTextContent="",u.a.destroy(e.$refs.inputTextarea),this.nim.sendText({scene:"p2p",custom:n()({cType:"1",cId:i.a.getPara().doctorCustomerId,mType:"0",conId:e.orderSourceId}),to:this.targetData.account,text:t,needPushNick:!1,pushContent:"患者<"+(this.userData.nick?this.userData.nick:"")+">向您问诊，点击查看详情",pushPayload:n()({account:"0_"+i.a.getPara().caseId,type:"1"}),done:function(t,a){console.log(a),e.sendMessageSuccess(t,a),u()(e.$refs.inputTextarea)}}),W()(".main-input-box-textarea").focus()},sendMessageSuccess:function(e,t){this.getTimeStampShowList(t),console.log("发送"+t.scene+" "+t.type+"消息"+(e?"失败":"成功")+", id="+t.idClient),this.sendTextContent="",e||this.msgList.push(t),this.scrollToBottom()},transformTimeStamp:function(e){if(!e)return"";var t=function(e){return e>9?e:"0"+e},a=function(e){var a=new Date(e);return{y:a.getFullYear(),m:t(a.getMonth()+1),dd:t(a.getDate()),h:t(a.getHours()),mm:t(a.getMinutes())}},s="",n=(new Date).getTime();return a(e).y+"-"+a(e).m+"-"+a(e).dd==a(n).y+"-"+a(n).m+"-"+a(n).dd?s=a(e).h+":"+a(e).mm:a(e).y===a(n).y?s=a(e).m+"-"+a(e).dd+"  "+a(e).h+":"+a(e).mm:a(e).y!==a(n).y&&(s=a(e).y+"-"+a(e).m+"-"+a(e).dd+"  "+a(e).h+":"+a(e).mm),s},getTimeStampShowList:function(e){(e.time-this.beginTimestamp)/3e5>1?(this.beginTimestamp=e.time,this.timeStampShowList.push(1)):this.timeStampShowList.push(0)},getTimeStampShowFlag:function(e,t){if("custom"===e.type&&e.content){if("notification"===JSON.parse(e.content).type&&(3==JSON.parse(e.content).data.actionType||5==JSON.parse(e.content).data.actionType))return!1;if("custom"===e.type&&"medicalReport"===JSON.parse(e.content).type&&this.msgList.indexOf(e)>0)return!1;if(1==this.timeStampShowList[t])return!0}else if(1==this.timeStampShowList[t])return!0},sendFile:function(e){this.inputFlag=!1;var t=e.target.files[0];this.msgList.push({file:{url:window.URL.createObjectURL(t)},type:"file",idClient:"",from:this.userData.account}),console.log(t),t.type.includes("image")?this.sendImageFile(t):t.type.includes("video")&&this.sendVideoFile(t)},sendImageFile:function(e){var t=this;t.imageLastIndex=t.msgList.length-1,this.nim.previewFile({type:"image",fileInput:this.$refs.imageSender,uploadprogress:function(e){t.scrollToBottom(),t.imageProgress={uploading:!0,progress:e.percentageText,index:t.imageLastIndex},console.log("文件总大小: "+e.total+"bytes"),console.log("已经上传的大小: "+e.loaded+"bytes"),console.log("上传进度: "+e.percentage),console.log("上传进度文本: "+e.percentageText)},done:function(e,a){if(console.log("上传image"+(e?"失败":"成功")),console.log(a),!e){t.nim.sendFile({scene:"p2p",custom:n()({cType:"1",cId:i.a.getPara().doctorCustomerId,mType:"1",conId:t.orderSourceId}),to:t.targetData.account,file:a,needPushNick:!1,pushContent:"患者<"+(t.userData.nick?t.userData.nick:"")+">向您问诊，点击查看详情",pushPayload:n()({account:"0_"+i.a.getPara().caseId,type:"1"}),type:"image",done:function(e,a){t.msgList[t.imageLastIndex]=a,t.imageProgress={uploading:!1,progress:"0%",index:0},t.imageList.push(a.file.url)}})}}})},sendVideoFile:function(e){var t=this;this.nim.previewFile({type:"video",fileInput:this.$refs.imageSender,uploadprogress:function(e){t.scrollToBottom(),t.imageProgress={uploading:!0,progress:e.percentageText,index:t.msgList.length-1},console.log("文件总大小: "+e.total+"bytes"),console.log("已经上传的大小: "+e.loaded+"bytes"),console.log("上传进度: "+e.percentage),console.log("上传进度文本: "+e.percentageText)},done:function(e,a){if(console.log("上传video"+(e?"失败":"成功")),console.log(a),!e){t.nim.sendFile({scene:"p2p",custom:n()({cType:"1",cId:i.a.getPara().doctorCustomerId,mType:"1",conId:t.orderSourceId}),to:t.targetData.account,file:a,needPushNick:!1,pushContent:"患者<"+(t.userData.nick?t.userData.nick:"")+">向您问诊，点击查看详情",pushPayload:n()({account:"0_"+i.a.getPara().caseId,type:"1"}),type:"video",done:function(e,a){t.msgList[t.msgList.length-1]=a,t.imageProgress={uploading:!1,progress:"0%",index:0},t.imageList.push(a.file.url)}})}}})},scrollToBottom:function(){this.$nextTick(function(){W()(".main-message").animate({scrollTop:W()(".main-message>section").height()},300)})},inputLimit:function(){var e=this.sendTextContent;i.a.getByteLen(e)>1e3&&(this.sendTextContent=i.a.getStrByteLen(e,1e3))},remainTimeOut:function(){var e=this;this.remainTimeCount=setInterval(function(){e.receiveTime<=0?(e.bottomTipsType(-1),clearInterval(e.remainTimeCount)):e.receiveTime=e.receiveTime-1e3},1e3)},refreashOrderTime:function(e){var t=this,a="";a=-1==this.bottomTipsType?-1:0,i.a.ajax({url:Q.updateCount,method:"POST",data:{consultationId:t.orderSourceId,frequency:e.orderFrequency,frequencyType:"2",consultationLevel:e.orderType,consultationState:a},done:function(s){s.responseObject.responseData&&(-1===a?(t.receiveTime=72e5,t.remainTimeOut(),t.lastTimeShow=!0,t.bottomTipsShow=!1,t.sendPayFinish(e)):(l.a.commit("setLastCount",parseInt(e.orderFrequency)),l.a.commit("setLastTime",432e6),l.a.commit("lastTimeCount"),t.sendPayFinish(e),setTimeout(function(){t.lastTimeShow=!0,t.receiveTreatmentStatus=!0},200)))}})},retryClick:function(e){var t=this;switch(e){case-1:case 1:this.payPopupShow=!0;break;case 2:i.a.ajax({url:Q.updateCount,method:"POST",data:{consultationId:this.triageOrderSourceId,frequency:"0",frequencyType:"5",consultationLevel:"1",consultationState:"2"},done:function(e){e.responseObject.responseData&&(sessionStorage.setItem("doctor",t.$store.state.targetMsg.nick),window.location.href="/dist/imScene.html?&caseId="+i.a.getPara().caseId+"&patientId="+i.a.getPara().patientId+"&patientCustomerId="+i.a.getPara().patientCustomerId+"&shuntCustomerId="+t.shuntCustomerId)}})}},checkFirstBuy:function(){if(localStorage.getItem("sendTips")){JSON.parse(localStorage.getItem("sendTips"));this.getPatientBase(this.sendPayFinish)}},resetLogoUrl:function(){this.$store.state.logoUrl||this.getPatientBase()},sendPayFinish:function(e){var t=this,a="",s="";e.nick?(s=e,a=JSON.parse(localStorage.getItem("sendTips"))):(a=e,s=this.userData);var o="",r="",c="",u="";switch(parseInt(a.orderType)){case 0:o="免费";break;case 1:o="图文";break;case 3:o="特需"}u=a.orderAmount?"("+a.orderAmount+"元)":"",0===parseInt(a.orderType)?(r="[患者申请免费问诊]",c="申请"):(r="[患者购买问诊]",c="购买"),localStorage.removeItem("sendTips"),this.nim.sendCustomMsg({scene:"p2p",custom:n()({cType:"1",cId:i.a.getPara().doctorCustomerId,mType:"33",conId:t.orderSourceId}),to:t.targetData.account,needPushNick:!1,pushContent:"患者<"+(s.nick?s.nick:"")+">向您问诊，点击查看详情",pushPayload:n()({account:"0_"+i.a.getPara().caseId,type:"1"}),content:n()({type:"notification",data:{actionType:"1",contentDesc:"患者已"+c+"您的"+o+"问诊"+u,subContentDesc:r}}),done:function(e,a){e||0!==t.msgList.length&&t.sendMessageSuccess(e,a)}})},initScroll:function(){this.$refs.wrapper&&(this.scroll=new q.a(this.$refs.wrapper,{probeType:1,click:!0,momentum:!0,deceleration:.01}))},refreshScroll:function(){this.scroll&&this.scroll.refresh()}},computed:{progess:function(){return this.imageProgress.progress},lastTime:function(){return this.$store.state.lastTime},lastTimeText:function(){return i.a.MillisecondToDate(this.$store.state.lastTime)},lastCount:function(){return this.$store.state.lastCount},payPopupDate:function(){return{docName:this.$store.state.targetMsg.nick,docId:i.a.getPara().doctorCustomerId,caseId:i.a.getPara().caseId,patientId:i.a.getPara().patientId,patientCustomerId:i.a.getPara().patientCustomerId,from:"imDoctor",payType:"pay"}},textLength:function(){return this.sendTextContent.replace(/(^(\r|\n|\s)*)|((\r|\n|\s)*$)/g,"")}},mounted:function(){this.setFooterPosition(),this.getUserBaseData(),localStorage.removeItem("mPayDoctorId"),1==localStorage.getItem("payOk")?this.payPopupShow=!0:this.payPopupShow=!1,i.a.forbidShare(),"im"!==i.a.getPara().from&&(localStorage.setItem("APPIMLinks",location.href),localStorage.setItem("PCIMLinks",location.href))},beforeRouteLeave:function(e,t,a){"showBigImg"===e.name&&(console.log(W()(".main-message").scrollTop()),sessionStorage.setItem("imagePosition",W()(".main-message").scrollTop())),a(!0)},activated:function(){sessionStorage.getItem("imagePosition")&&(W()(".main-message").scrollTop(sessionStorage.getItem("imagePosition")),sessionStorage.removeItem("imagePosition"))},watch:{msgList:{handler:function(e,t){var a=this;setTimeout(function(){a.refreshScroll()},20)},deep:!0},progess:function(e,t){"0%"!=e&&"100%"!=e||(this.inputFlag=!0)},lastTime:function(e){e<=0?(this.lastTimeShow=!1,this.bottomTipsShow=!0,this.showBottomTips(1)):(this.lastTimeShow=!0,this.bottomTipsShow=!1)},lastCount:function(e){e<=0?(this.lastTimeShow=!1,this.bottomTipsShow=!0,l.a.commit("stopLastTimeCount"),this.showBottomTips(1)):(this.lastTimeShow=!0,this.bottomTipsShow=!1)}},components:{MedicalReport:m.a,ContentText:f.a,ImageContent:v.a,BottomTips:I.a,MiddleTips:C.a,PayFinishTips:w.a,payPopup:E.a,OutpatientInvite:x.a,SurgicalDrape:O.a,HospitalNotice:k.a,SendCount:A.a,AudioMessage:R.a,VideoMessage:j.a,Loading:F.a}}},1326:function(e,t,a){function s(e){a(1327)}var n=a(2)(a(1328),a(1329),s,null,null);e.exports=n.exports},1327:function(e,t){},1328:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(239),n=a(3),o={caseMain:"/mcall/customer/patient/case/v1/getMainMapById/"};t.default={data:function(){return{mainCase:""}},mounted:function(){s.a.commit("setLogoUrl",this.medicalReportMessage.data),console.log(this.medicalReportMessage),this.getCaseMain()},methods:{getCaseMain:function(){var e=this;n.a.ajax({url:o.caseMain,method:"POST",data:{caseId:n.a.getPara().caseId,patientId:n.a.getPara().patientId},beforeSend:function(){},done:function(t){t.responseObject.responseStatus&&(e.mainCase=t.responseObject.responseData.dataList[0].caseMain.caseMain)},fail:function(e){console.log("请求失败")}})},goToDetail:function(){this.$router.push({name:"MedicalReportDetail"})}},computed:{logoUrl:function(){return this.$store.state.logoUrl}},filters:{ellipsis:function(e,t){if(!e)return"";for(var a="",s=0,n=0;n<e.length&&(e.charCodeAt(n)>128?s+=2:s++,s<=t);n++)a=a.concat(e[n]);return s>t&&(a+="..."),a}},props:{medicalReportMessage:{type:Object}}}},1329:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"main-message-box"},[a("article",{staticClass:"medical-report-box",attrs:{"data-clientid":""},on:{click:e.goToDetail}},[a("header",{staticClass:"medical-report-title"},[e._v("问诊单")]),e._v(" "),a("section",{staticClass:"medical-report-content"},[a("p",{staticClass:"patient-info"},[a("span",[e._v("患者：")]),e._v(" "),a("span",{staticClass:"patient-name"},[e._v(e._s(e._f("ellipsis")(e.medicalReportMessage.data.patientName,8))+" ")]),e._v(" "),a("span",{staticClass:"patient-age"},[e._v(e._s(e.medicalReportMessage.data.sexName)+" "+e._s(e.medicalReportMessage.data.age)+"岁")])]),e._v(" "),a("p",{staticClass:"case-describe"},[a("span",[e._v("主诉：")]),a("span",{staticClass:"case-describe-main"},[e._v(e._s(e.mainCase))])])]),e._v(" "),a("footer",{staticClass:"medical-report-footer"},[e._v("查看已提交信息")])])]),e._v(" "),e._m(0,!1,!1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-message-box"},[a("article",{staticClass:"main-message-box-item others-message"},[a("figcaption",{staticClass:"first-message"},[a("p",[e._v("已通知医生尽快接诊，医生回复将在公众号中即时通知，请保持关注")])])])])}]}},1330:function(e,t,a){function s(e){a(1331)}var n=a(2)(a(1332),a(1333),s,null,null);e.exports=n.exports},1331:function(e,t){},1332:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{showDeleteMsg:!1}},mounted:function(){},computed:{logoUrl:function(){return this.$store.state.logoUrl},targetLogo:function(){return 0===this.$store.state.targetMsg.avatar.length?"/src/common/image/imScene/default.png":this.$store.state.targetMsg.avatar}},methods:{longTouchHandler:function(){this.showDeleteMsg=!0,this.$emit("longTouchEmitHandler")},deleteMsgEvent:function(){this.showDeleteMsg=!1,this.$emit("deleteMsgEvent")}},props:{contentMessage:{type:Object},targetData:{type:Object},userData:{type:Object},currentIndex:{type:Number},deleteMsgIndex:{type:Number}}}},1333:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{directives:[{name:"touch",rawName:"v-touch:long",value:e.longTouchHandler,expression:"longTouchHandler",arg:"long"}],staticClass:"main-message-box"},[a("article",{staticClass:"main-message-box-item",class:{"my-message":e.contentMessage.from===e.userData.account,"others-message":e.contentMessage.from===e.targetData.account},attrs:{"data-clientid":e.contentMessage.idClient}},[e.contentMessage.from===e.targetData.account?a("figure",{staticClass:"main-message-img"},[a("img",{attrs:{src:e.targetLogo,alt:""}})]):e._e(),e._v(" "),e._m(0,!1,!1),e._v(" "),a("figcaption",{staticClass:"main-message-content"},[a("transition",{attrs:{name:"fade"}},[e.currentIndex===e.deleteMsgIndex&&e.showDeleteMsg&&e.contentMessage.from===e.userData.account?a("span",{staticClass:"delete-msg-btn",on:{click:function(t){t.stopPropagation(),e.deleteMsgEvent(t)}}},[e._v("撤回")]):e._e()]),e._v(" "),a("p",[e._v(e._s(e.contentMessage.text))])],1),e._v(" "),e.contentMessage.from===e.userData.account?a("figure",{staticClass:"main-message-img"},[a("img",{attrs:{src:e.logoUrl,alt:""}})]):e._e()])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i",{staticClass:"fail-button",staticStyle:{display:"none"}},[a("img",{attrs:{src:"/image/imScene/error_tips.png",alt:""}})])}]}},1334:function(e,t,a){function s(e){a(1335)}var n=a(2)(a(1336),a(1337),s,null,null);e.exports=n.exports},1335:function(e,t){},1336:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(82),n=a.n(s);t.default={data:function(){return{}},computed:{progress:function(){if(this.currentIndex===this.imageProgress.index){if(this.imageProgress.progress.includes(".")){return n()(this.imageProgress,{progress:this.imageProgress.progress.split(".")[0]+"%"})}return this.imageProgress}return{uploading:!1,progress:"0",index:0}},logoUrl:function(){return this.$store.state.logoUrl},targetLogo:function(){return 0===this.$store.state.targetMsg.avatar.length?"/src/common/image/imScene/default.png":this.$store.state.targetMsg.avatar}},mounted:function(){if(this.imageNum="",!this.imageMessage.file.url.includes("blob:")){var e=this.nim.viewImageQuality({url:this.imageMessage.file.url,quality:40});this.imageMessage.file.url=e}setTimeout(function(){document.body.scrollTop=Math.pow(10,10)},100)},methods:{showBigImg:function(e,t){var a=this,s={imgBlob:function(){var e=[];return a.imageList.forEach(function(t,a){e.push({blob:t})}),e}(),indexNum:this.imageList.indexOf(this.imageMessage.file.url)};this.$router.push({name:"showBigImg",params:s})}},props:{imageMessage:{type:Object},nim:{type:Object},imageList:{type:Array},imageProgress:{type:Object},currentIndex:{type:Number},targetData:{type:Object},userData:{type:Object}}}},1337:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-message-box"},[a("article",{staticClass:"main-message-box-item",class:{"my-message":e.imageMessage.from===e.userData.account,"others-message":e.imageMessage.from===e.targetData.account},attrs:{"data-clientid":e.imageMessage.idClient}},[e.imageMessage.from===e.targetData.account?a("figure",{staticClass:"main-message-img"},[a("img",{attrs:{src:e.targetLogo,alt:""}})]):e._e(),e._v(" "),e._m(0,!1,!1),e._v(" "),a("figcaption",{staticClass:"main-message-content image-message"},[e.progress.uploading?a("section",{staticClass:"middle-tip-box"},[a("figure",{staticClass:"middle-tip-box-text"},[a("img",{staticClass:"notShow",attrs:{src:"//m.allinmed.cn/image/img00/patientConsult/symptom_photo_loading@2x.png",alt:"loading..."},on:{click:function(e){}}}),e._v(" "),a("figcaption",{staticClass:"progress"},[a("p",[e._v(e._s(e.progress.progress))])])])]):e._e(),e._v(" "),a("img",{staticClass:"im-image",staticStyle:{"border-radius":"0.28rem"},attrs:{src:e.imageMessage.file.url,alt:""},on:{click:function(t){t.stopPropagation(),e.showBigImg(t)}}})]),e._v(" "),e.imageMessage.from===e.userData.account?a("figure",{staticClass:"main-message-img"},[a("img",{attrs:{src:e.logoUrl,alt:""}})]):e._e()])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i",{staticClass:"fail-button",staticStyle:{display:"none"}},[a("img",{attrs:{src:"/image/imScene/error_tips.png",alt:""}})])}]}},1338:function(e,t,a){function s(e){a(1339)}var n=a(2)(a(1340),a(1341),s,null,null);e.exports=n.exports},1339:function(e,t){},1340:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(3);t.default={data:function(){return{renderMessage:""}},mounted:function(){this.selectRenderMessage()},methods:{selectRenderMessage:function(){switch(this.bottomTipsType){case-1:this.renderMessage="抱歉~由于主诊医生出诊、手术日程繁忙，未能及时接诊，已为您退诊；如需继续等待，请重新支付。";break;case 1:this.renderMessage="您的问诊已结束，若希望继续问诊，请点击下方按钮完成支付后继续沟通。";break;case 2:"report"===s.a.getPara().from?this.renderMessage="抱歉~您的问诊请求未能得到主诊专家的接诊确认，已为您退诊。":this.renderMessage="抱歉~您的问诊请求未能得到主诊医生的接诊确认，已为您退诊；点击下方按钮，我们会重新为您推荐医生。"}}},props:{bottomTipsType:{type:Number}}}},1341:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"bottom-tips-wrapper"},[a("article",{staticClass:"bottom-tips-text"},[e._v("\n    "+e._s(e.renderMessage)+"\n  ")])])},staticRenderFns:[]}},1342:function(e,t,a){function s(e){a(1343)}var n=a(2)(a(1344),a(1345),s,null,null);e.exports=n.exports},1343:function(e,t){},1344:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{tipsContent:""}},mounted:function(){switch(this.tipsType){case 4:this.tipsContent="问诊已开始";break;case 5:this.tipsContent="问诊已结束"}},methods:{},props:{tipsType:{type:Number}}}},1345:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[5==e.tipsType?a("section",{staticClass:"main-message-box grey-tips"},[e._m(0,!1,!1)]):e._e(),e._v(" "),a("p",{staticClass:"receive-treatment"},[a("span",[e._v(e._s(e.tipsContent))])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("figcaption",{staticClass:"first-message"},[a("p",[e._v("医生回复仅为建议，具体治疗需前往医院进行")])])}]}},1346:function(e,t,a){function s(e){a(1347)}var n=a(2)(a(1348),a(1349),s,null,null);e.exports=n.exports},1347:function(e,t){},1348:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},1349:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0,!1,!1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"time-stamp"},[e._v("以上为历史纪录")])])}]}},1350:function(e,t,a){function s(e){a(1351)}var n=a(2)(a(1352),a(1353),s,null,null);e.exports=n.exports},1351:function(e,t){},1352:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(3),n=a(16),o=a(139),r=a.n(o),i=a(38),c=a(20),u=a.n(c);n.a.use(r.a);var l={getVisitDetails:"/mcall/customer/advice/setting/v1/getMapById/",getConsultationId:"/mcall/customer/case/consultation/v1/getConsultationFrequency/",getOrderDetails:"/mcall/cms/pay/order/v1/getMapById/"};t.default={name:"carrousel",data:function(){return{repeatOrderTitle:"",repeatOrderId:"",repeatConsultationId:"",repeatOrderAmount:"",repeatOrderType:"",repeatOrderFrequency:"",isHasFree:"1",levelShow:!1,chargeReason:!1,priceMessage:{},showFlag:{item1:!1,item2:!1,item3:!1},swiperOption:{notNextTick:!0,autoplay:0,direction:"horizontal",grabCursor:!0,setWrapperSize:!0,zoom:!0,autoHeight:!0,pagination:".swiper-pagination",paginationClickable:!0,mousewheelControl:!0,observeParents:!0,debugger:!0,onTransitionStart:function(e){}}}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},mounted:function(){this.getPrice(),this.isHasFreeChat()},methods:{openChargeReason:function(e){this.showFlag["item"+e]=!this.showFlag["item"+e]},closePopup:function(){this.$emit("update:payPopupShow",!1)},isHasFreeChat:function(){var e=this;s.a.ajax({url:l.getConsultationId,method:"post",data:{caseId:s.a.getPara().caseId,customerId:s.a.getPara().doctorCustomerId,isCreate:1,isValid:1,consultationType:1,firstResult:0,maxResult:999},dataType:"json",done:function(t){if(t.responseObject.responseData.dataList&&t.responseObject.responseData.dataList.consultationId){var a=t.responseObject.responseData.dataList.consultationId;s.a.ajax({url:l.getOrderDetails,method:"POST",data:{patientId:s.a.getPara().patientId,doctorId:s.a.getPara().doctorCustomerId,orderType:1,orderSourceId:a,orderSourceType:0,sortType:2},done:function(t){if(t.responseObject.responseData.dataList){0==t.responseObject.responseData.dataList[0].orderAmount&&(e.isHasFree=0)}}})}}})},getPrice:function(){var e=this;s.a.ajax({url:l.getVisitDetails,method:"POST",data:{customerId:s.a.getPara().doctorCustomerId},beforeSend:function(){},done:function(t){if(t.responseObject.responseData.dataList){var a=t.responseObject.responseData.dataList[0];e.priceMessage=a}}})},goToPay:function(e){var t=this,a=0;if(0==a){a=1,t.repeatOrderFrequency=e.orderFrequency;var n="",o=parseFloat(e.orderAmount).toFixed(2);switch(parseInt(e.type)){case 1:n="普通问诊";break;case 3:n="特需问诊"}s.a.ajax({url:l.getConsultationId,method:"post",data:{caseId:s.a.getPara().caseId,customerId:s.a.getPara().doctorCustomerId,isCreate:1,isValid:1,consultationType:1,firstResult:0,maxResult:999},done:function(s){if(s.responseObject.responseData.dataList){var r=s.responseObject.responseData.dataList.consultationId;sessionStorage.setItem("orderSourceId",r),t.isHasOrder({consultationId:r,orderSourceType:e.type,orderSourceTitle:n,orderAmount:o,orderFrequency:e.orderFrequency}),a=0}}})}},isHasOrder:function(e){var t=this;s.a.ajax({url:l.getOrderDetails,method:"POST",data:{patientId:s.a.getPara().patientId,doctorId:s.a.getPara().doctorCustomerId,orderType:1,orderSourceId:e.consultationId,status:1,sortType:1,firstResult:0,maxResult:1},done:function(a){if(a.responseObject.responseData.dataList){var s=a.responseObject.responseData.dataList[0];if(s.orderSourceId&&0!=s.orderSourceId&&e.orderSourceType==s.orderSourceType){switch(t.closePopup(),t.repeatOrderId=s.orderId,t.repeatConsultationId=s.orderSourceId,t.repeatOrderAmount=s.orderAmount,t.repeatOrderType=s.orderSourceType,Number(s.orderSourceType)){case 1:t.repeatOrderTitle="普通问诊";break;case 3:t.repeatOrderTitle="特需问诊"}t.levelShow=!0}else t.noOrder({cId:e.consultationId,oType:e.orderSourceType,oTitle:e.orderSourceTitle,orderAmount:e.orderAmount,orderFrequency:e.orderFrequency})}else t.noOrder({cId:e.consultationId,oType:e.orderSourceType,oTitle:e.orderSourceTitle,orderAmount:e.orderAmount,orderFrequency:e.orderFrequency})}})},noOrder:function(e){var t=this;console.log(e),0==e.oType?i.a.wxCreateOrder({isTest:0,data:{caseId:s.a.getPara().caseId,patientCustomerId:s.a.getPara().patientCustomerId,patientId:s.a.getPara().patientId,doctorId:s.a.getPara().doctorCustomerId,orderType:1,orderSourceId:e.cId,orderSourceType:0,orderAmount:0,status:"2",body:"免费问诊",isCharge:"false"},backCreateSuccess:function(e){t.$emit("paySuccess",{orderType:0,orderAmount:0,orderFrequency:3}),t.closePopup()},backCreateError:function(e){},wxPaySuccess:function(e){},wxPayError:function(e){}}):i.a.wxCreateOrder({isTest:0,data:{caseId:s.a.getPara().caseId,patientCustomerId:s.a.getPara().patientCustomerId,patientId:s.a.getPara().patientId,doctorId:s.a.getPara().doctorCustomerId,orderType:1,orderSourceId:e.cId,orderSourceType:e.oType,orderAmount:e.orderAmount,status:"1",body:e.oTitle,isCharge:"true"},backCreateSuccess:function(e){},backCreateError:function(e){},wxPaySuccess:function(a){t.$emit("paySuccess",{orderType:e.oType,orderAmount:e.orderAmount,orderFrequency:e.orderFrequency}),t.closePopup()},wxPayError:function(e){}})},cancelEvent:function(){this.levelShow=!1},ensureEvent:function(){var e=this;i.a.wxPay({isTest:0,orderId:e.repeatOrderId,orderType:1,orderSourceId:e.repeatConsultationId,total_fee:e.repeatOrderAmount,body:e.repeatOrderTitle,callBack:function(t){"true"==t.responseStatus&&(e.$emit("paySuccess",{orderType:e.repeatOrderType,orderAmount:e.repeatOrderAmount,orderFrequency:e.repeatOrderFrequency}),e.closePopup(),e.levelShow=!1)}})}},props:{payPopupShow:{type:Boolean}},components:{confirm:u.a}}},1353:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("transition",{attrs:{name:"fadeUp"}},[e.payPopupShow?a("div",{staticClass:"mask_layer"},[a("swiper",{ref:"mySwiper",staticClass:"onlineVisit_mask",attrs:{options:e.swiperOption}},[a("swiper-slide",[a("div",{staticClass:"swiper-zoom-container"},[a("h2",{staticClass:"moudle_title"},[a("span",[e._v("网上问诊")]),a("i",{staticClass:"icon_close_mask",on:{click:e.closePopup}})]),e._v(" "),a("p",{staticClass:"visit_tiny_tip"},[e._v("提示：急重症患者不适合网上咨询，请前往当地医院问诊")]),e._v(" "),a("h3",{staticClass:"inquiryType inquiryType_normal"},[e._v("普通问诊"),a("span",[e._v(e._s(e.priceMessage.generalPrice)+"元")])]),e._v(" "),a("ul",{staticClass:"dox_cando"},[a("li",[e._v("可获得"+e._s(e.priceMessage.generalTimes)+"次医生答复")]),e._v(" "),a("li",[e._v("医生48小时内未接诊全额退款")])]),e._v(" "),a("figure",{staticClass:"why_charge"},[a("figcaption",{on:{click:function(t){e.openChargeReason(1)}}},[e._v("为什么收费")]),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:e.showFlag.item1,expression:"showFlag.item1"}],staticClass:"charge_reason"},[e._v("\n                医生利用自己的休息时间为您进行医疗服务，让您避免盲目跑医院，减少交通等待时间及花费，足不出户也可以得到医生建议。医生按劳取酬，让付出更有价值，让贴心贴心服务，温暖如影随形。\n              ")])]),e._v(" "),a("a",{staticClass:"go_payment",on:{click:function(t){e.goToPay({type:1,orderAmount:e.priceMessage.generalPrice,orderFrequency:e.priceMessage.generalTimes})}}},[e._v("去支付")])])]),e._v(" "),a("swiper-slide",[a("div",{staticClass:"swiper-zoom-container"},[a("h2",{staticClass:"moudle_title"},[a("span",[e._v("网上问诊")]),a("i",{staticClass:"icon_close_mask",on:{click:e.closePopup}})]),e._v(" "),a("p",{staticClass:"visit_tiny_tip"},[e._v("提示：急重症患者不适合网上咨询，请前往当地医院问诊")]),e._v(" "),a("h3",{staticClass:"inquiryType inquiryType_special"},[e._v("特需问诊"),a("span",[e._v(e._s(e.priceMessage.vipPrice)+"元")])]),e._v(" "),a("ul",{staticClass:"dox_cando"},[a("li",[e._v("可获得"+e._s(e.priceMessage.vipTimes)+"次医生答复")]),e._v(" "),a("li",[e._v("医生12小时内未接诊全额退款")])]),e._v(" "),a("figure",{staticClass:"why_charge"},[a("figcaption",{on:{click:function(t){e.openChargeReason(2)}}},[e._v("为什么收费")]),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:e.showFlag.item2,expression:"showFlag.item2"}],staticClass:"charge_reason"},[e._v("\n                医生利用自己的休息时间为您进行医疗服务，让您避免盲目跑医院，减少交通等待时间及花费，足不出户也可以得到医生建议。医生按劳取酬，让付出更有价值，让贴心贴心服务，温暖如影随形。\n              ")])]),e._v(" "),a("a",{staticClass:"go_payment",on:{click:function(t){e.goToPay({type:3,orderAmount:e.priceMessage.vipPrice,orderFrequency:e.priceMessage.vipTimes})}}},[e._v("去支付")])])]),e._v(" "),a("swiper-slide",[a("div",{staticClass:"swiper-zoom-container"},[a("h2",{staticClass:"moudle_title"},[a("span",[e._v("网上问诊")]),a("i",{staticClass:"icon_close_mask",on:{click:e.closePopup}})]),e._v(" "),a("p",{staticClass:"visit_tiny_tip"},[e._v("提示：急重症患者不适合网上咨询，请前往当地医院问诊")]),e._v(" "),a("h3",{staticClass:"inquiryType inquiryType_urgent"},[e._v("免费问诊"),a("span",{staticClass:"freeQuestion_icon"})]),e._v(" "),a("ul",{staticClass:"dox_cando"},[a("li",[e._v("患者拥有一次免费问诊机会，可获得3次医生答复")])]),e._v(" "),a("figure",{staticClass:"why_charge"},[a("figcaption",{on:{click:function(t){e.openChargeReason(3)}}},[e._v("为什么收费")]),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:e.showFlag.item3,expression:"showFlag.item3"}],staticClass:"charge_reason"},[e._v("\n                医生利用自己的休息时间为您进行医疗服务，让您避免盲目跑医院，减少交通等待时间及花费，足不出户也可以得到医生建议。医生按劳取酬，让付出更有价值，让贴心贴心服务，温暖如影随形。'\n              ")])]),e._v(" "),0!=e.isHasFree?a("a",{staticClass:"go_payment",on:{click:function(t){e.goToPay({type:0})}}},[e._v("去支付")]):0==e.isHasFree?a("a",{staticClass:"go_payment forbid"},[e._v("已使用")]):e._e()])]),e._v(" "),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1)],1):e._e()]),e._v(" "),a("transition",{attrs:{name:"fade"}},[e.levelShow?a("confirm",{attrs:{confirmParams:{ensure:"去支付",cancel:"取消",content:"您有一份相同订单尚未过期，确定完成支付吗？"},showFlag:e.levelShow},on:{"update:showFlag":function(t){e.levelShow=t},cancelClickEvent:e.cancelEvent,ensureClickEvent:e.ensureEvent}}):e._e()],1)],1)},staticRenderFns:[]}},1354:function(e,t,a){function s(e){a(1355)}var n=a(2)(a(1356),a(1357),s,null,null);e.exports=n.exports},1355:function(e,t){},1356:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(3);t.default={data:function(){return{oiMessage:{}}},mounted:function(){this.oiMessage=this.outPatientMessage.data},props:{outPatientMessage:{type:Object}},methods:{limitContent:function(e,t){return e?e.length>t?e.substring(0,t)+"...":e:void 0},goToDocMain:function(){window.location.href="/pages/myServices/doc_main.html?caseId="+s.a.getPara().caseId+"&customerId="+s.a.getPara().doctorCustomerId+"&type=1&patientId="+s.a.getPara().patientId+"&patientCustomerId="+s.a.getPara().patientCustomerId},formatNumber:function(e){if(e){var t=e.substring(0,e.length-4),a=e.substring(e.length-4,e.length);return t.replace(/[[a-zA-Z0-9\u4e00-\u9fa5]/g,"*")+a}}},computed:{targetLogo:function(){return 0===this.$store.state.targetMsg.avatar.length?"/src/common/image/imScene/default.png":this.$store.state.targetMsg.avatar}}}},1357:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"outpatient-nvite-box"},[e._m(0,!1,!1),e._v(" "),a("section",{staticClass:"outpatient-content"},[a("article",{staticClass:"outpatient-item-time"},[e._m(1,!1,!1),e._v(" "),a("h3",{staticClass:"time-area"},[e._v(e._s(e.oiMessage.validPeriod))])]),e._v(" "),a("article",{staticClass:"outpatient-patient-msg"},[a("article",{staticClass:"outpatient-patient-item"},[a("h4",{staticClass:"outpatient-patient-item-title"},[e._v("患者")]),e._v(" "),a("p",{staticClass:"outpatient-patient-item-msg"},[a("span",[e._v(e._s(e.limitContent(e.oiMessage.patientName,6)))]),e._v(" "),a("span",[e._v(e._s(1==e.oiMessage.patientSex?"男":"女"))]),e._v(" "),a("span",[e._v(e._s(e.oiMessage.patientAge)+"岁")])])]),e._v(" "),a("article",{staticClass:"outpatient-patient-item"},[a("h4",{staticClass:"outpatient-patient-item-title"},[e._v("证件号码")]),e._v(" "),a("p",{staticClass:"outpatient-patient-item-msg"},[a("span",[e._v(e._s(e.formatNumber(e.oiMessage.patientDocumentNumber)))])])])]),e._v(" "),a("article",{staticClass:"outpatient-patient-msg"},[a("article",{staticClass:"outpatient-patient-item"},[a("h4",{staticClass:"outpatient-patient-item-title"},[e._v("医生")]),e._v(" "),a("p",{staticClass:"outpatient-patient-item-msg"},[a("span",[e._v(e._s(e.limitContent(e.oiMessage.doctorName,6)))]),e._v(" "),a("span",[e._v(e._s(e.oiMessage.doctorPosition))])])]),e._v(" "),a("article",{staticClass:"outpatient-patient-item"},[a("h4",{staticClass:"outpatient-patient-item-title"},[e._v("医院")]),e._v(" "),a("p",{staticClass:"outpatient-patient-item-msg content-overflow"},[a("span",[e._v(e._s(e.oiMessage.doctorHospital))])])])]),e._v(" "),e._m(2,!1,!1),e._v(" "),e._m(3,!1,!1),e._v(" "),e._m(4,!1,!1)])]),e._v(" "),e._m(5,!1,!1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"outpatient-header"},[a("h2",[a("span",[e._v("门诊邀约单")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("span",[e._v("有效期")]),e._v(" "),a("span",[e._v("一次加号机会")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{staticClass:"outpatient-base-explanation part-one"},[a("p",[e._v("请以医院官网的专家出诊时间为准，停诊信息以医院当天公布为准")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{staticClass:"outpatient-base-explanation part-two"},[a("p",[e._v("有效期内患者到医生诊室出示邀约单，领取加号条后，到医院挂号处缴费。挂号费以医院门诊价格为准")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",{staticClass:"outpatient-base-explanation part-three"},[a("p",[e._v("请以上方有效期为准，逾期就诊，医生有权拒绝加号")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-message-box grey-tips"},[a("figcaption",{staticClass:"first-message"},[a("p",[e._v("此条信息不消耗医生回复次数")])])])}]}},1358:function(e,t,a){function s(e){a(1359)}var n=a(2)(a(1360),a(1361),s,null,null);e.exports=n.exports},1359:function(e,t){},1360:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},1361:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0,!1,!1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-message-box"},[a("article",{staticClass:"main-message-box-item others-message"},[a("figure",{staticClass:"main-message-img"},[a("img",{attrs:{src:"null",alt:""}})]),e._v(" "),a("figcaption",{staticClass:"check-suggestion message-result doctor-special",attrs:{"data-role":"operationDetail"}},[a("article",{staticClass:"message-result-item"},[a("header",{staticClass:"message-result-item-title"},[e._v("手术单")]),e._v(" "),a("section",{staticClass:"message-result-item-message"},[a("p",{staticClass:"check-suggestion-item"},[a("span",[e._v("手术医师：王二小")])]),e._v(" "),a("p",{staticClass:"check-suggestion-item"},[a("span",[e._v("术前诊断：锁骨骨折")])]),e._v(" "),a("p",{staticClass:"check-suggestion-item"},[a("span",[e._v("手术名称：胸椎和腰椎损伤的手术")])]),e._v(" "),a("footer",{staticClass:"message-result-item-bottom"},[a("a",{attrs:{href:"/pages/wxPay/procedure_wx_pay.html?caseId=1500261750125&patientCustomerId=1495870462496&operationOrderId=1500281795774&doctorCustomerId=1498011473842&patientId=1499763987699#!procedure"}},[e._v("查看详情")])])])])])])])}]}},1362:function(e,t,a){function s(e){a(1363)}var n=a(2)(a(1364),a(1365),s,null,null);e.exports=n.exports},1363:function(e,t){},1364:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},1365:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0,!1,!1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-message-box"},[a("article",{staticClass:"main-message-box-item others-message"},[a("figure",{staticClass:"main-message-img"},[a("img",{attrs:{src:"null",alt:""}})]),e._v(" "),a("figcaption",{staticClass:"check-suggestion message-result doctor-special",attrs:{"data-role":"hospitalNotice"}},[a("article",{staticClass:"message-result-item"},[a("header",{staticClass:"message-result-item-title"},[e._v("住院通知单")]),e._v(" "),a("section",{staticClass:"message-result-item-message"},[a("p",{staticClass:"check-suggestion-item"},[a("span",[e._v("手术医院：中日友好医院")])]),e._v(" "),a("p",{staticClass:"check-suggestion-item"},[a("span",[e._v("入院时间：2017年07月06日")])]),e._v(" "),a("footer",{staticClass:"message-result-item-bottom"},[a("a",{staticClass:"ev-checkHospitalDetail",attrs:{href:"javascript:void(0)"}},[e._v("查看详情")])])])])])])])}]}},1366:function(e,t,a){function s(e){a(1367)}var n=a(2)(a(1368),a(1369),s,null,null);e.exports=n.exports},1367:function(e,t){},1368:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={computed:{doctorName:function(){return this.$store.state.targetMsg.nick}}}},1369:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"send-count-box"},[a("article",{staticClass:"send-count"},[a("span",[e._v(e._s(e.doctorName)+"医生送给您")]),e._v(" "),a("em",[e._v("3")]),e._v(" "),a("span",[e._v("次免费回答机会")])])])},staticRenderFns:[]}},1370:function(e,t,a){function s(e){a(1371)}var n=a(2)(a(1372),a(1373),s,null,null);e.exports=n.exports},1371:function(e,t){},1372:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{playing:!1}},mounted:function(){},methods:{audioPlay:function(){var e=this;this.playing=!0;var t=this.$refs.audioElement;t.addEventListener("ended",function(){e.playing=!1}),t.paused?t.play():(t.pause(),t.currentTime=0)}},computed:{targetLogo:function(){return 0===this.$store.state.targetMsg.avatar.length?"/src/common/image/imScene/default.png":this.$store.state.targetMsg.avatar},formatTime:function(){var e=this.audioMessage.file.dur,t=Math.round(e/1e3);return t<10?"0:0"+t:t>=10&&t<60?"0:"+t:"1:00"}},props:{audioMessage:{type:Object}}}},1373:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-message-box"},[a("article",{staticClass:"main-message-box-item others-message",on:{click:e.audioPlay}},[a("figure",{staticClass:"main-message-img"},[a("img",{attrs:{src:e.targetLogo,alt:""}})]),e._v(" "),a("figcaption",{staticClass:"main-message-content audio-message",class:{playing:!0===e.playing}},[a("p",[a("audio",{ref:"audioElement",staticClass:"voice-message"},[a("source",{attrs:{src:e.audioMessage.file.mp3Url,type:"audio/mpeg"}})]),e._v(" "),a("span",[e._v(e._s(e.formatTime))])])])])])},staticRenderFns:[]}},1374:function(e,t,a){function s(e){a(1375)}var n=a(2)(a(1376),a(1377),s,null,null);e.exports=n.exports},1375:function(e,t){},1376:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},computed:{logoUrl:function(){return this.$store.state.logoUrl},targetLogo:function(){return 0===this.$store.state.targetMsg.avatar.length?"/src/common/image/imScene/default.png":this.$store.state.targetMsg.avatar}},props:{videoMessage:{type:Object},targetData:{type:Object},userData:{type:Object}},mounted:function(){console.log(this.videoMessage)}}},1377:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-message-box"},[a("article",{staticClass:"main-message-box-item",class:{"my-message":e.videoMessage.from===e.userData.account,"others-message":e.videoMessage.from===e.targetData.account},attrs:{"data-clientid":e.videoMessage.idClient}},[e.videoMessage.from===e.targetData.account?a("figure",{staticClass:"main-message-img"},[a("img",{attrs:{src:e.targetLogo,alt:""}})]):e._e(),e._v(" "),e._m(0,!1,!1),e._v(" "),a("figcaption",{staticClass:"main-message-content image-message"},[a("video",{staticClass:"im-image video-message",staticStyle:{"border-radius":"0.28rem"},attrs:{controls:"controls",src:e.videoMessage.file.url}})]),e._v(" "),e.videoMessage.from===e.userData.account?a("figure",{staticClass:"main-message-img"},[a("img",{attrs:{src:e.logoUrl,alt:""}})]):e._e()])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i",{staticClass:"fail-button",staticStyle:{display:"none"}},[a("img",{attrs:{src:"/image/imScene/error_tips.png",alt:""}})])}]}},1379:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"box-shadow":"none"},attrs:{"data-alcode-mod":"720"}},[a("section",{staticClass:"main-inner"},[a("transition",{attrs:{name:"fadeDown"}},[e.lastTimeShow&&e.receiveTreatmentStatus?a("article",{staticClass:"main-message-time"},[a("article",[a("p",[e._v("医生回复剩余次数")]),e._v(" "),a("span",[e._v(e._s(e.lastCount))]),e._v(" "),a("p",[e._v("次")])]),e._v(" "),a("article",[a("p",[e._v("对话剩余时间")]),e._v(" "),a("span",[e._v(e._s(e.lastTimeText))]),e._v(" "),a("p")])]):e._e()]),e._v(" "),a("section",{ref:"wrapper",staticClass:"main-message",class:{"padding-top":e.lastTimeShow&&e.receiveTreatmentStatus,"bottom-tips-padding":e.bottomTipsShow}},[a("transition-group",{attrs:{name:"fadeDown",tag:"section"}},e._l(e.msgList,function(t,s){return a("section",{key:s,staticClass:"main-message-wrapper",on:{click:function(t){t.stopPropagation(),e.$refs.inputTextarea.blur()},touchmove:function(t){e.$refs.inputTextarea.blur()}}},[e.getTimeStampShowFlag(t,s)||e.receivedTreatment(t)?a("p",{staticClass:"time-stamp"},[e._v("\n            "+e._s(e.transformTimeStamp(t.time)))]):e._e(),e._v(" "),e.receiveMedicalReport(t)?a("MedicalReport",{ref:"medicalReport",refInFor:!0,attrs:{medicalReportMessage:JSON.parse(t.content)}}):e._e(),e._v(" "),e.receivedTreatment(t)?a("MiddleTips",{attrs:{tipsType:4}}):e._e(),e._v(" "),e.receivedTreatOver(t)?a("MiddleTips",{attrs:{tipsType:5}}):e._e(),e._v(" "),"custom"===t.type&&"payFinishTips"===JSON.parse(t.content).type?a("PayFinishTips"):e._e(),e._v(" "),"custom"===t.type&&"outpatientInvite"===JSON.parse(t.content).type?a("OutpatientInvite",{ref:"outpatientInvite",refInFor:!0,attrs:{outPatientMessage:JSON.parse(t.content)}}):e._e(),e._v(" "),"custom"===t.type&&"surgicalDrape"===JSON.parse(t.content).type?a("SurgicalDrape",{attrs:{surgicalMessage:JSON.parse(t.content)}}):e._e(),e._v(" "),e.receivedSendCount(t)?a("SendCount",{attrs:{sendCountMessage:JSON.parse(t.content)}}):e._e(),e._v(" "),e.receivedBuyCount(t)?a("section",{staticClass:"main-message-box grey-tips"},[a("figcaption",{staticClass:"first-message"},[a("p",[e._v("您已完成支付，可与主诊医生继续沟通")])])]):e._e(),e._v(" "),"custom"===t.type&&"hospitalNotice"===JSON.parse(t.content).type?a("HospitalNotice",{attrs:{hoispitalMessage:JSON.parse(t.content)}}):e._e(),e._v(" "),"text"===t.type&&t.text?a("ContentText",{attrs:{contentMessage:t,userData:e.userData,targetData:e.targetData}}):e._e(),e._v(" "),"file"!==t.type&&"image"!==t.type||!t.file?e._e():a("ImageContent",{ref:"bigImg",refInFor:!0,attrs:{imageMessage:t,nim:e.nim,imageList:e.imageList,imageProgress:e.imageProgress,currentIndex:s,userData:e.userData,targetData:e.targetData}}),e._v(" "),"video"===t.type&&t.file?a("VideoMessage",{attrs:{videoMessage:t,userData:e.userData,targetData:e.targetData}}):e._e(),e._v(" "),"audio"===t.type?a("AudioMessage",{attrs:{audioMessage:t}}):e._e(),e._v(" "),e.receivedReportTips(t)?a("section",{ref:"reportTip",refInFor:!0,staticClass:"main-message-box grey-tips"},[a("figcaption",{staticClass:"first-message"},[a("p",[e._v("报到成功，您可继续补充您的情况，便于医生更好了解病情")])])]):e._e()],1)}))],1),e._v(" "),a("transition",{attrs:{name:"fadeUp"}},[e.inputBoxShow?a("footer",{class:e.footerPosition},[a("transition",{attrs:{name:"fadeUp"}},[e.bottomTipsShow?a("BottomTips",{attrs:{bottomTipsType:e.bottomTipsType}}):e._e()],1),e._v(" "),e.lastTimeShow||2!=e.bottomTipsType?e._e():a("section",{staticClass:"prohibit-input",on:{click:function(t){e.retryClick(2)}}},[a("div",[a("span",[e._v("重新推荐")])])]),e._v(" "),e.lastTimeShow||-1!=e.bottomTipsType?e._e():a("section",{staticClass:"prohibit-input",on:{click:function(t){e.retryClick(-1)}}},[a("div",[a("span",[e._v("重新支付")])])]),e._v(" "),e.lastTimeShow||2!=e.bottomTipsType||"report"!==e.from?e._e():a("section",{staticClass:"prohibit-input"},[a("div",[a("span",[e._v("已退诊")])])]),e._v(" "),e.lastTimeShow||1!=e.bottomTipsType?e._e():a("section",{staticClass:"prohibit-input",attrs:{"data-alcode":"e134"},on:{click:function(t){e.retryClick(1)}}},[a("div",[a("span",[e._v("继续沟通")])])]),e._v(" "),a("section",{staticClass:"main-input-box-plus"},[a("i",{staticClass:"icon-im-plus"}),e._v(" "),e.isIos&&e.inputFlag?a("input",{ref:"imageSender",attrs:{multiple:"",type:"file",id:"ev-file-send"},on:{change:function(t){e.sendFile(t)}}}):e._e(),e._v(" "),!e.isIos&&e.inputFlag?a("input",{ref:"imageSender",attrs:{multiple:"",type:"file",id:"ev-file-send",capture:"camera",accept:"image/*"},on:{change:function(t){e.sendFile(t)}}}):e._e()]),e._v(" "),a("figure",{staticClass:"main-input-box-textarea-inner"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.sendTextContent,expression:"sendTextContent"}],ref:"inputTextarea",staticClass:"main-input-box-textarea",attrs:{rows:"1"},domProps:{value:e.sendTextContent},on:{focus:function(t){e.focusFn()},blur:function(t){e.blurFn()},click:e.scrollToBottom,input:[function(t){t.target.composing||(e.sendTextContent=t.target.value)},e.inputLimit],keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;t.stopPropagation(),e.autoSizeTextarea()}}}),e._v(" "),a("p",{staticClass:"main-input-box-send",class:{on:e.sendTextContent.length},on:{click:e.sendMessage}},[e._v("发送")])])],1):e._e()]),e._v(" "),e.payPopupShow?a("payPopup",{attrs:{payPopupShow:e.payPopupShow,payPopupParams:e.payPopupDate},on:{paySuccess:e.refreashOrderTime,"update:payPopupShow":function(t){e.payPopupShow=t}}}):e._e(),e._v(" "),e.loading?a("Loading"):e._e()],1)])},staticRenderFns:[]}},1380:function(e,t,a){function s(e){a(1381)}var n=a(2)(a(1382),a(1383),s,null,null);e.exports=n.exports},1381:function(e,t){},1382:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(3),n={getInquiryPage:"/mcall/customer/patient/case/v1/getMapById/"};t.default={data:function(){return{finish:!1,patientCasemap:{patientName:"",caseMain:"",attachmentList:""},partName:"",logoUrl:"",remarkContent:"",illnessTime:"",caseTime:"",heavyTime:"",complication:"",resultMainList:[],imageList1:[],imageList2:[],symptomDescription:"",acheType:"",VASGrade:""}},activated:function(){},mounted:function(){this.getMedicalReport(),s.a.forbidShare()},methods:{getMedicalReport:function(){var e=this;s.a.ajax({url:n.getInquiryPage,method:"POST",data:{caseId:s.a.getPara().caseId,attUseFlag:1,isOrder:0},beforeSend:function(t){e.finish=!0},done:function(t){if(t.responseObject&&t.responseObject.responseData){t.responseObject.responseData.dataList[0];e.patientCasemap=t.responseObject.responseData.dataList[0].patientCasemap,e.resultMainList=t.responseObject.responseData.dataList[0].resultMainList,e.resultMainList[0].symptomOptions.forEach(function(t){t.optionDesc.length>0?e.symptomDescription+=t.optionDesc+"、":e.symptomDescription+=t.optionName+"、"}),e.symptomDescription=e.symptomDescription.substring(0,e.symptomDescription.length-1),e.resultMainList[0].symptomOptions[0].refQuestionList.length&&(e.acheType=e.resultMainList[0].symptomOptions[0].refQuestionList[0].symptomOptions[0].optionName,e.VASGrade=e.resultMainList[0].symptomOptions[0].refQuestionList[1].symptomOptions[0].optionName+e.resultMainList[0].symptomOptions[0].refQuestionList[1].symptomOptions[0].optionDesc);var a=e.patientCasemap.caseTime.split(" ")[0];e.caseTime=a.split("-")[0]+"年"+a.split("-")[1]+"月"+a.split("-")[2]+"日",e.illnessTime=e.resultMainList[1].symptomOptions[0].optionDesc&&e.resultMainList[1].symptomOptions[0].optionDesc.length>0?e.resultMainList[1].symptomOptions[0].optionDesc:e.resultMainList[1].symptomOptions[0].optionName,e.heavyTime=e.resultMainList[2].symptomOptions[0].optionDesc&&e.resultMainList[2].symptomOptions[0].optionDesc.length>0?e.resultMainList[2].symptomOptions[0].optionDesc:e.resultMainList[2].symptomOptions[0].optionName,e.partName=e.resultMainList[0].partName,e.complication=e.patientCasemap.caseMain.caseAlong,e.patientCasemap.attachmentList.forEach(function(t,a){0==t.caseAttSource?e.imageList1.push(t.caseAttUrl):e.imageList2.push(t.caseAttUrl)}),e.getLogoUrl()}e.finish=!1}})},showBigImg:function(e,t,a){var s=this,n={imgBlob:function(){var e=[];return s["imageList"+a].forEach(function(t,a){e.push({blob:t})}),e}(),indexNum:t};this.$router.push({name:"showBigImg",params:n})},getLogoUrl:function(){var e=this.patientCasemap.sexName,t=parseInt(this.patientCasemap.age),s="";t<=12?s=a(128):t>12&&t<=59?s=a("男"===e?129:130):t>=60&&(s=a("男"===e?131:132)),this.logoUrl=s}},props:{}}},1383:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"medical-report-detail"},[a("section",{staticClass:"tc-caseContentBox"},[a("section",{staticClass:"tc-baseInfo"},[a("ul",{staticClass:"tc-baseInfoList"},[a("li",{staticClass:"tc-baseInfoItem"},[a("div",{staticClass:"tc-baseInfoItemLeft"},[a("img",{attrs:{src:e.logoUrl,alt:""}})]),e._v(" "),a("div",{staticClass:"tc-baseInfoItemRight"},[a("span",{staticClass:"tc-baseInfoName"},[e._v(e._s(e.patientCasemap.patientName.length>5?e.patientCasemap.patientName.substring(0,5)+"...":e.patientCasemap.patientName))]),e._v(" "),a("span",{staticClass:"tc-baseInfoSex"},[e._v(" "+e._s(e.patientCasemap.sexName))]),e._v(" "),a("span",{staticClass:"tc-baseInfoAge"},[e._v(e._s(e.patientCasemap.age)+"  岁")])])]),e._v(" "),a("li",{staticClass:"tc-baseInfoItem"},[a("div",{staticClass:"tc-baseInfoItemLeft"},[e._v("问诊日期")]),e._v(" "),a("div",{staticClass:"tc-baseInfoItemRight"},[e._v(e._s(e.caseTime))])])]),e._v(" "),a("section",{staticClass:"tc-baseInfoItem"},[a("div",{staticClass:"tc-baseInfoItemLeft"},[e._v("主诉")]),e._v(" "),a("div",{staticClass:"tc-baseInfoItemRight tc-recommendUserMain"},[e._v(e._s(e.patientCasemap.caseMain.caseMain))])])]),e._v(" "),a("section",{staticClass:"tc-caseDescribe tc-module"},[e._m(0,!1,!1),e._v(" "),a("ul",{staticClass:"tc-caseDescribeList"},[a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("不适部位")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.partName))])]),e._v(" "),a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("症状描述")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.symptomDescription))])]),e._v(" "),e.acheType.length?a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("疼痛性质")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.acheType))])]):e._e(),e._v(" "),e.VASGrade.length?a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("VAS评分")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.VASGrade))])]):e._e(),e._v(" "),a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("持续时间")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.illnessTime||"未填写"))])]),e._v(" "),a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("加重时间")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.heavyTime||"未填写"))])]),e._v(" "),a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("其他症状")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.complication||"未填写"))])])])]),e._v(" "),a("section",{staticClass:"tc-caseDescribe tc-module"},[e._m(1,!1,!1),e._v(" "),a("ul",{staticClass:"tc-caseDescribeList"},[a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("曾就诊医院")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.patientCasemap.treatmentName||"未填写"))])]),e._v(" "),a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("确诊疾病")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.patientCasemap.illnessName||"未填写"))])]),e._v(" "),a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("检查资料")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(0===e.imageList1.length?"未填写":"  "))]),e._v(" "),0!==e.imageList1.length?a("ul",{staticClass:"uploadListsBox"},e._l(e.imageList1,function(t,s){return a("li",{on:{click:function(a){e.showBigImg(t,s,1)}}},[a("img",{attrs:{src:t}})])})):e._e()]),e._v(" "),a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("患处照片")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(0===e.imageList2.length?"未填写":"  "))]),e._v(" "),0!==e.imageList2.length?a("ul",{staticClass:"uploadListsBox"},e._l(e.imageList2,function(t,s){return a("li",{on:{click:function(a){e.showBigImg(t,s,2)}}},[a("img",{attrs:{src:t}})])})):e._e()]),e._v(" "),a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("服用药物")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.patientCasemap.takeMedicine||"未填写"))])])])]),e._v(" "),a("section",{staticClass:"tc-caseDescribe tc-module"},[e._m(2,!1,!1),e._v(" "),a("ul",{staticClass:"tc-caseDescribeList"},[a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("患者所在地")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.patientCasemap.provinceName+" "+e.patientCasemap.cityName+" "+e.patientCasemap.districtName))])]),e._v(" "),a("li",{staticClass:"tc-caseDescribeItem"},[a("span",{staticClass:"tc-caseDescribeItemLeft"},[e._v("手机号码")]),e._v(" "),a("span",{staticClass:"tc-caseDescribeItemRight tc-noRevice"},[e._v(e._s(e.patientCasemap.mobile))])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"tc-caseDescribeTitle title"},[a("h3",[e._v("症状描述")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"tc-caseDescribeTitle title"},[a("h3",[e._v("诊治情况")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"tc-caseDescribeTitle title"},[a("h3",[e._v("基本信息")])])}]}},153:function(e,t,a){var s=a(2)(a(86),a(87),null,null,null);e.exports=s.exports},154:function(e,t,a){var s=a(2)(a(88),a(89),null,null,null);e.exports=s.exports},158:function(e,t,a){function s(e){a(159)}var n=a(2)(a(160),a(161),s,null,null);e.exports=n.exports},159:function(e,t){},160:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(8),n=a.n(s),o=a(3),r=(a(16),a(38)),i=a(20),c=a.n(i),u=a(10),l=a.n(u),d=a(9),p={getVisitDetails:"/mcall/customer/advice/setting/v1/getMapById/",getConsultationId:"/mcall/customer/case/consultation/v1/getConsultationFrequency/",getOrderDetails:"/mcall/cms/pay/order/v1/getMapById/",getCurrentState:"/mcall/customer/advice/setting/v1/getCurrentByCustomerId/"};t.default={data:function(){return{repeatOrderTitle:"图文问诊",repeatOrderId:"",repeatConsultationId:"",repeatOrderAmount:"",repeatOrderType:"",repeatOrderFrequency:"",mOrderAmount:"",mOrderType:"",mOrderFrequency:"",payOrderShow:!1,noWXPayShow:!1,noStateShow:!1,noMoreShow:!1,hasCommunShow:!1,finish:!1,priceMessage:{}}},mounted:function(){var e=this;d.a.weChatJudge(function(){console.log("这是微信呦")},function(){localStorage.setItem("payDate",n()(e.payPopupParams))}),1==localStorage.getItem("payOk")?this.noWXPayShow=!0:(this.noWXPayShow=!1,this.toJudge({type:0}))},methods:{closePopup:function(){localStorage.removeItem("mOrder"),localStorage.removeItem("payOk"),this.$emit("update:payPopupShow",!1)},toJudge:function(e){var t=this;o.a.ajax({url:p.getCurrentState,method:"POST",data:{customerId:t.payPopupParams.docId,caseId:t.payPopupParams.caseId},done:function(a){if(a&&a.responseObject.responseData.dataList){t.finish=!1;var s=a.responseObject.responseData.dataList;0==s.state?t.noStateShow=!0:s.remainNum<=0&&-1!=s.remainNum?t.noMoreShow=!0:1==s.conState&&"imDoctor"!=t.payPopupParams.from?t.hasCommunShow=!0:"free"==t.payPopupParams.payType?t.freeToPay():0==e.type?(t.payOrderShow=!0,t.getPrice()):t.noOrder(e)}},fail:function(){t.finish=!1}})},getDocName:function(){return this.payPopupParams.docName.length>6?this.payPopupParams.docName.substring(0,6)+"...":this.payPopupParams.docName},getPrice:function(){var e=this;o.a.ajax({url:p.getVisitDetails,method:"POST",data:{customerId:e.payPopupParams.docId},done:function(t){if(t.responseObject.responseData.dataList){var a=t.responseObject.responseData.dataList[0];e.priceMessage=a}}})},goToPay:function(e){var t=this,a=0;if(0==a){a=1,t.repeatOrderFrequency=e.orderFrequency;var s=parseFloat(e.orderAmount).toFixed(2);o.a.ajax({url:p.getConsultationId,method:"post",data:{caseId:t.payPopupParams.caseId,customerId:t.payPopupParams.docId,isCreate:1,isValid:1,consultationType:1,firstResult:0,maxResult:999},beforeSend:function(){t.finish=!0},done:function(n){if(t.finish=!1,n.responseObject.responseData.dataList){var o=n.responseObject.responseData.dataList.consultationId;sessionStorage.setItem("orderSourceId",o),t.toJudge({consultationId:o,orderSourceType:e.type,orderSourceTitle:"图文问诊",orderAmount:s,orderFrequency:e.orderFrequency}),a=0}},fail:function(){t.finish=!1}})}},isHasOrder:function(e){var t=this;o.a.ajax({url:p.getOrderDetails,method:"POST",data:{patientId:t.payPopupParams.patientId,doctorId:t.payPopupParams.docId,orderType:1,orderSourceId:e.consultationId,status:1,sortType:1,firstResult:0,maxResult:1},done:function(a){if(a.responseObject.responseData.dataList){var s=a.responseObject.responseData.dataList[0];s.orderSourceId&&0!=s.orderSourceId&&e.orderSourceType==s.orderSourceType?(t.closePopup(),t.repeatOrderId=s.orderId,t.repeatConsultationId=s.orderSourceId,t.repeatOrderAmount=s.orderAmount,t.repeatOrderType=s.orderSourceType):t.noOrder({cId:e.consultationId,oType:e.orderSourceType,oTitle:e.orderSourceTitle,orderAmount:e.orderAmount,orderFrequency:e.orderFrequency})}else t.noOrder({cId:e.consultationId,oType:e.orderSourceType,oTitle:e.orderSourceTitle,orderAmount:e.orderAmount,orderFrequency:e.orderFrequency})}})},noOrder:function(e){var t=this;localStorage.setItem("docId",t.payPopupParams.docId),localStorage.setItem("mOrder",n()({mOrderType:e.orderSourceType,mOrderAmount:e.orderAmount,mOrderFrequency:e.orderFrequency})),r.a.wxCreateOrder({isTest:0,data:{caseId:t.payPopupParams.caseId,patientCustomerId:t.payPopupParams.patientCustomerId,patientId:t.payPopupParams.patientId,doctorId:t.payPopupParams.docId,orderType:1,orderSourceId:e.consultationId,orderSourceType:e.orderSourceType,orderAmount:e.orderAmount,status:"1",body:"图文问诊",isCharge:"true"},backCreateSuccess:function(e){},backCreateError:function(e){},wxPaySuccess:function(a){t.$emit("paySuccess",{orderType:e.orderSourceType,orderAmount:e.orderAmount,orderFrequency:e.orderFrequency}),t.closePopup()},wxPayError:function(e){window.location.reload()}})},cancelEvent:function(e){this.noStateShow=!1,this.noMoreShow=!1,this.hasCommunShow=!1,this.closePopup(),"docMain"==this.payPopupParams.from&&this.$emit("docCallBack",e)},ensureEvent:function(){var e=this;r.a.wxPay({isTest:0,orderId:e.repeatOrderId,orderType:1,orderSourceId:e.repeatConsultationId,total_fee:e.repeatOrderAmount,body:e.repeatOrderTitle,callBack:function(t){"true"==t.responseStatus&&(e.$emit("paySuccess",{orderType:e.repeatOrderType,orderAmount:e.repeatOrderAmount,orderFrequency:e.repeatOrderFrequency}),e.closePopup())}})},ensureCommunEvent:function(){window.location.href="/dist/imSceneDoctor.html?caseId="+this.payPopupParams.caseId+"&doctorCustomerId="+this.payPopupParams.docId+"&patientCustomerId="+this.payPopupParams.patientCustomerId+"&patientId="+this.payPopupParams.patientId},freeToPay:function(){var e=this;o.a.ajax({url:p.getConsultationId,method:"post",data:{caseId:e.payPopupParams.caseId,customerId:e.payPopupParams.docId,isCreate:1,isValid:1,consultationType:1,firstResult:0,maxResult:999},done:function(t){if(t.responseObject.responseData.dataList){var a=t.responseObject.responseData.dataList.consultationId;localStorage.setItem("docId",e.payPopupParams.docId),sessionStorage.setItem("orderSourceId",a),r.a.wxCreateOrder({isTest:0,data:{caseId:e.payPopupParams.caseId,patientCustomerId:e.payPopupParams.patientCustomerId,patientId:e.payPopupParams.patientId,doctorId:e.payPopupParams.docId,orderType:1,orderSourceId:a,orderSourceType:0,orderAmount:0,status:"2",body:"免费问诊",isCharge:"false"},backCreateSuccess:function(t){e.creatInquiryId(t)},backCreateError:function(e){},wxPaySuccess:function(e){},wxPayError:function(e){window.location.reload()}})}}})},creatInquiryId:function(e){var t=this;o.a.ajax({url:"/mcall/customer/case/consultation/v1/getMapById/",method:"POST",data:{caseId:t.payPopupParams.caseId,customerId:t.payPopupParams.docId,consultationType:1,siteId:17},done:function(a){"NO DATA"==a.responseObject.responseMessage?o.a.ajax({url:"/mcall/customer/case/consultation/v1/create/",method:"POST",data:{caseId:t.payPopupParams.caseId,customerId:t.payPopupParams.docId,patientCustomerId:t.payPopupParams.patientCustomerId,patientId:t.payPopupParams.patientId,consultationType:1,consultationState:-1,consultationLevel:0,siteId:17,caseType:0},done:function(a){if(a.responseObject.responseStatus){var s=a.responseObject.responsePk;localStorage.removeItem("docId"),sessionStorage.setItem("orderSourceId",s),r.a.wxUpOrder({operationType:"2",orderId:e,orderType:"1",orderSourceId:s,outTradeNo:"",status:"2",payTime:"1",callBack:function(e){t.$emit("paySuccess",{orderType:0,orderAmount:0,orderFrequency:3})}})}}}):t.$emit("paySuccess",{orderType:0,orderAmount:0,orderFrequency:3})}})},viewPayResult:function(){var e=this;r.a.PayResult({outTradeNo:localStorage.getItem("orderNumber")}).then(function(t){console.log("查看回调",t);var a=JSON.parse(localStorage.getItem("payDate")),s=JSON.parse(localStorage.getItem("mOrder"));alert(localStorage.getItem("payDate")),alert(localStorage.getItem("mOrder")),"SUCCESS"==t.resultCode?o.a.ajax({url:"/mcall/customer/case/consultation/v1/getMapById/",method:"POST",data:{caseId:a.caseId,customerId:a.docId,consultationType:1,siteId:17},done:function(t){"NO DATA"==t.responseObject.responseMessage?o.a.ajax({url:"/mcall/customer/case/consultation/v1/create/",method:"POST",data:{caseId:a.caseId,customerId:a.docId,patientCustomerId:a.patientCustomerId,patientId:a.patientId,consultationType:1,consultationState:-1,consultationLevel:1,siteId:17,caseType:0},done:function(t){t.responseObject.responseStatus&&(alert(t.responseObject.responsePk),sessionStorage.setItem("orderSourceId",t.responseObject.responsePk),e.$emit("paySuccess",{orderType:s.mOrderType,orderAmount:s.mOrderAmount,orderFrequency:s.mOrderFrequency}),e.closePopup())}}):(e.$emit("paySuccess",{orderType:s.mOrderType,orderAmount:s.mOrderAmount,orderFrequency:s.mOrderFrequency}),e.closePopup())}}):console.log("未支付成功")}).catch(function(e){console.log(e)})}},props:{payPopupShow:{type:Boolean},payPopupParams:{type:Object}},components:{confirm:c.a,loading:l.a}}},161:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.payPopupShow?a("section",[a("transition",{attrs:{name:"fadeIn"}},[e.payOrderShow?a("div",{staticClass:"mask_layer"},[a("div",{attrs:{"data-alcode-mod":"721"}},[a("div",{staticClass:"onlineVisit_mask"},[a("section",{staticClass:"docNameBox"},[a("span",{staticClass:"docName"},[e._v(e._s(e.getDocName()))]),e._v("提供的服务"),a("i",{staticClass:"icon_close_mask",on:{click:e.closePopup}})]),e._v(" "),a("section",{staticClass:"inquiryTypeBox"},[a("h2",{staticClass:"imgInquiry"},[a("span",[e._v("图文问诊")]),e._v(" "),a("span",{staticClass:"inquiryMoney"},[e._v(e._s(e.priceMessage.generalPrice)+"元")])]),e._v(" "),a("dl",{staticClass:"docAdvantage"},[a("dt",[e._v("服务保障")]),e._v(" "),a("dd",[e._v("本人回复")]),e._v(" "),a("dd",[e._v("超时退款")]),e._v(" "),a("dd",[e._v("权威认证医生")])]),e._v(" "),a("ul",{staticClass:"doxCando"},[a("li",[e._v("可获得"+e._s(e.priceMessage.generalTimes)+"次医生答复")]),e._v(" "),a("li",[e._v("医生48小时内未接诊全额退款")]),e._v(" "),a("li",[e._v("问诊5天有效")])]),e._v(" "),a("a",{staticClass:"goPayment",attrs:{"data-alcode":"e135"},on:{click:function(t){e.goToPay({type:1,orderAmount:e.priceMessage.generalPrice,orderFrequency:e.priceMessage.generalTimes})}}},[e._v("购买")])])])])]):e._e()]),e._v(" "),a("transition",{attrs:{name:"fadeIn"}},[e.noStateShow?a("confirm",{attrs:{confirmParams:{ensure:"确定",cancel:"取消",content:"医生关闭了今天的问诊服务，暂不能为您提供帮助",title:"今日暂不接诊"}},on:{cancelClickEvent:function(t){e.cancelEvent(1)},ensureClickEvent:function(t){e.cancelEvent(1)}}}):e._e()],1),e._v(" "),a("transition",{attrs:{name:"fadeIn"}},[e.noMoreShow?a("confirm",{attrs:{confirmParams:{ensure:"确定",cancel:"取消",title:"抱歉，该医生今天已经没有问诊名额了"}},on:{cancelClickEvent:function(t){e.cancelEvent(2)},ensureClickEvent:function(t){e.cancelEvent(2)}}}):e._e()],1),e._v(" "),a("transition",{attrs:{name:"fadeIn"}},[e.hasCommunShow?a("confirm",{attrs:{confirmParams:{ensure:"去沟通",cancel:"取消",title:"您与该医生有正在进行中的问诊服务，现在去继续沟通吗？"}},on:{cancelClickEvent:e.cancelEvent,ensureClickEvent:e.ensureCommunEvent}}):e._e()],1),e._v(" "),a("transition",{attrs:{name:"fadeIn"}},[e.noWXPayShow?a("confirm",{attrs:{confirmParams:{ensure:"支付成功",cancel:"支付失败",title:"请确认微信支付是否已经完成"}},on:{cancelClickEvent:function(t){e.closePopup()},ensureClickEvent:function(t){e.viewPayResult()}}}):e._e()],1),e._v(" "),e.finish?a("loading"):e._e()],1):e._e()},staticRenderFns:[]}},20:function(e,t,a){function s(e){a(31)}var n=a(2)(a(32),a(33),s,null,null);e.exports=n.exports},21:function(e,t){},23:function(e,t,a){e.exports=a.p+"static/img/symptom_photo_loading@2x.9d469f9.png"},238:function(e,t,a){"use strict";(function(e){var s=a(98),n=a.n(s),o={getTimestamp:function(){return(new Date).getTime()},getRandomKey:function(){return"vue-touch-"+(Math.random()+"").replace(/\D/g,"")},getType:function(e,t){var a=null,s=window.devicePixelRatio,n=t.T-e.T,o=(t.X-e.X)/s,r=(t.Y-e.Y)/s;Math.abs(o),Math.abs(r),Math.sqrt(Math.pow(o,2)+Math.pow(r,2));switch(!0){case n<100:a="tap";break;case n>500:a="long"}return a},getEventName:function(){return i?{start:"touchstart",end:"touchend"}:{start:"mousedown",end:"mouseup"}},attachEvent:function(e,t,a){var s=o.getEventName();e.addEventListener(s.start,t.start,a),e.addEventListener(s.end,t.end,a)},detachEvent:function(e,t){var a=o.getEventName();e.removeEventListener(a.start,t.start),e.removeEventListener(a.end,t.end)}},r={},i="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0||/(Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent),c=function(e,t,a){return a.stop&&t.stopPropagation(),a.prevent&&t.preventDefault(),!a.self||e===t.target},u=function(e){return{start:function(t){var a=this["vue-touch-id"],s=d[a][e],n=s.method,r=s.modifiers,u=s.start;if(i?(u.X=t.touches[0].pageX,u.Y=t.touches[0].pageY):(u.X=t.screenX,u.Y=t.screenY),u.T=o.getTimestamp(),!c(this,t,r))return!1;s.cycle=1,"long"===e&&(s.timer&&clearTimeout(s.timer),s.timer=setTimeout(function(){s.cycle<3&&n(t),s.timer=0},300))},end:function(t){var a={X:0,Y:0,T:o.getTimestamp()};i?(a.X=t.changedTouches[0].pageX,a.Y=t.changedTouches[0].pageY):(a.X=t.screenX,a.Y=t.screenY);var s=this["vue-touch-id"],n=d[s][e],r=n.method,u=n.modifiers,p=n.start;return n.cycle=3,!(!e||o.getType(p,a)!==e)&&(!!c(this,t,u)&&("long"!==e&&r(t,p,a),u.once&&(o.detachEvent(this,n.handler),delete d[s][e]),void(null!==l&&l(this,e,a))))}}},l=null,d={};r.install=function(e,t){t&&t.afterEvent&&"function"==typeof t.afterEvent&&(l=t.afterEvent),e.directive("touch",{bind:function(e,t){var a=t.arg,s=t.modifiers,n=!!s.capture,r=t.value,i="";if("function"!=typeof t.value||!t.arg)return console.error("[Vue warn]: Invalid parameter, Expected Function.");e.hasOwnProperty("vue-touch-id")?i=e["vue-touch-id"]:(i=e["vue-touch-id"]=o.getRandomKey(),d[i]={});var c=u(a);d[i][a]={method:r,modifiers:s,handler:c,start:{X:0,Y:0,T:0},timer:0,cycle:0},o.attachEvent(e,c,n)},update:function(e,t){var a=t.arg,s=t.value,n=e["vue-touch-id"],o=d[n];o.hasOwnProperty(a)&&(o[a].method=s)},unbind:function(e){var t=e["vue-touch-id"],a=d[t];for(var s in a)a.hasOwnProperty(s)&&s&&o.detachEvent(e,a[s].handler);delete d[t]}})},"object"==("undefined"==typeof exports?"undefined":n()(exports))?e.exports=r:"function"==typeof define&&a(157)?define([],function(){return r}):window.Vue&&(window.vueTouch=r,Vue.use(r)),t.a=r}).call(t,a(320)(e))},239:function(e,t,a){"use strict";var s=a(16),n=a(39);s.a.use(n.a);var o=void 0;t.a=new n.a.Store({state:{consultationId:"",logoUrl:"",lastTime:"",lastCount:"",targetMsg:{}},mutations:{setConsultation:function(e,t){e.consultationId=t},setTargetMsg:function(e,t){e.targetMsg=t},setLastCount:function(e,t){e.lastCount=t},setLogoUrl:function(e,t){var s=t.sexName,n=parseInt(t.age),o="";n<=12?o=a(128):n>12&&n<=59?o=a("男"===s?129:130):n>59&&(o=a("男"===s?131:132)),e.logoUrl=o},setLastTime:function(e,t){e.lastTime=t},stopLastTimeCount:function(e){clearInterval(o),e.lastTime=0},lastTimeCount:function(e){clearInterval(o),o=setInterval(function(){e.lastTime<=0?clearInterval(o):e.lastTime=e.lastTime-1e3},1e3)},lastCountMinus:function(e){e.lastCount=e.lastCount-1}}})},24:function(e,t){},25:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{show:{type:Boolean}}}},26:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0,!1,!1)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"middle-tip-box ev-loading"},[s("section",{staticClass:"middle-tip-modal"},[s("figure",{staticClass:"middle-tip-box-text"},[s("img",{attrs:{src:a(23),alt:"loading..."}})])])])}]}},3:function(e,t,a){"use strict";function s(){var e={isValid:1,firstResult:0,maxResult:99999,customerId:0};if(void 0!==m.a.getPara().patientCustomerId)e.customerId=0===m.a.getPara().patientCustomerId.length?0:m.a.getPara().patientCustomerId;else{if(void 0===m.a.getPara().customerId)return void(e.customerId=0);e.customerId=0===m.a.getPara().customerId.length?0:m.a.getPara().customerId}Object(p.a)({url:"/mcall/patient/customer/unite/v1/getMapById/",method:"POST",data:e,beforeSend:function(){},timeout:2e3,done:function(t){if(localStorage.setItem("customerBaseInfo_one",v()(t)),t&&t.responseObject&&t.responseObject.responseData&&t.responseObject.responseData.dataList){var a=t.responseObject.responseData.dataList[0].mobile;if(a&&a.length>0)return sessionStorage.removeItem("isReLoading"),!0;if(sessionStorage.getItem("isReLoading")&&"1"==sessionStorage.getItem("isReLoading"))return;sessionStorage.setItem("loginBack",window.location.href),window.location.href="/dist/login.html?customerId="+e.customerId}else{if(sessionStorage.getItem("isReLoading")&&"1"==sessionStorage.getItem("isReLoading"))return;sessionStorage.setItem("loginBack",window.location.href),window.location.href="/dist/login.html?customerId="+e.customerId}}})}var n=a(41),o=a.n(n),r=a(42),i=a.n(r),c=a(0),u=a.n(c),l=a(1),d=a.n(l),p=a(6),m=a(5),g=function(){function e(){u()(this,e)}return d()(e,[{key:"checkOpenId",value:function(){if("other"===this.isWXBrowse())return!0;if(window.location.href.indexOf("m9.allinmed.cn")>0||window.location.href.indexOf("m.allinmed.cn")>0){var e=localStorage.getItem("openId"),t="";return null!=e?t=!0:(t=!1,sessionStorage.getItem("count")&&sessionStorage.getItem("count").length>0&&sessionStorage.removeItem("count")),t}return!0}},{key:"isWXBrowse",value:function(){var e=navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)&&e.indexOf("iphone")>0?"iphoneWX":"micromessenger"==e.match(/MicroMessenger/i)&&e.indexOf("android")>0?"androidWX":"other"}},{key:"wxGetOpenId",value:function(){var e="",t="",a=window.location.origin+window.location.pathname+window.location.search,s=encodeURIComponent(a),n="";if(window.location.origin.includes("localhost"))return!1;n=window.location.hostname.includes("m9")?2:1,1==n?(e="wxe8384f7b06c169ef",t="http://m.allinmed.cn/mcall/wx/tocure/interact/v1/view/"):2==n&&(e="wxaa5288ad7f627608",t="http://m9.allinmed.cn/mcall/wx/tocure/interact/v1/view/");var o="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e+"&redirect_uri="+s+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect";if(m.a.getPara().code)-1===window.location.href.indexOf("openId")&&(window.location.href=t+"?ref="+(window.location.origin+window.location.pathname)+"&response_type=code&scope=snsapi_base&state=pay&code="+m.a.getPara().code+"#wechat_redirect");else if(-1!==window.location.href.indexOf("openId")){var r=sessionStorage.getItem("count");r||(sessionStorage.setItem("count",1),localStorage.getItem("currentUrl")&&-1!=localStorage.getItem("currentUrl").indexOf("?")?(window.location.href=localStorage.getItem("currentUrl")+"&openId="+m.a.getPara().openId,localStorage.removeItem("isReLoading")):(window.location.href=localStorage.getItem("currentUrl")+"?openId="+m.a.getPara().openId,localStorage.removeItem("isReLoading")),localStorage.setItem("openId",m.a.getPara().openId))}else localStorage.setItem("currentUrl",a),localStorage.setItem("isReLoading","1"),window.location.href=o}}]),e}(),f=new g,h=a(8),v=a.n(h),y=function(){function e(){u()(this,e)}return d()(e,[{key:"wxforbidShare",value:function(){var e=document.createElement("script");e.type="text/javascript",e.src="/static/js/third-party/jweixin-1.0.0.js",document.getElementsByTagName("body")[0].appendChild(e),Object(p.a)({url:"/mcall/wx/api/v1/getJSConfig/",method:"POST",data:{url:encodeURIComponent(window.location.href.split("#")[0])},headers:{"Content-Type":"application/x-www-form-urlencoded"},done:function(e){if(e.responseObject.responseData&&e.responseObject.responseStatus){var t=e.responseObject.responseData;wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.noncestr,signature:t.signature,jsApiList:["onMenuShareTimeline","hideOptionMenu","showOptionMenu","getNetworkType","getLocation","openLocation","chooseImage","previewImage","uploadImage","getLocalImgData","scanQRCode","hideMenuItems"]}),wx.ready(function(){console.log("成功了"),wx.hideOptionMenu()}),wx.error(function(e){console.log(e)})}},fail:function(e){document.querySelector(".ev-loading").style.display="none"}})}}]),e}(),I=new y,S=a(9),C=(a(7),function(){function e(){u()(this,e),this.removeByValue=function(e,t){for(var a=0;a<this.length;a++)if(e[a]==val){e.splice(a,1);break}return e}}return d()(e,[{key:"forbidShare",value:function(){S.a.weChatJudge(function(){window.location.href.includes("m9")||window.location.href.includes("10.1")||window.location.href.includes("localhost")||I.wxforbidShare()},function(){console.log("不需要禁止")})}},{key:"banZoom",value:function(){document.addEventListener("touchstart",function(e){e.touches.length>1&&e.preventDefault()});var e=0;document.addEventListener("touchend",function(t){var a=(new Date).getTime();a-e<=300&&t.preventDefault(),e=a},!1)}},{key:"ajax",value:function(e){Object(p.a)(e)}},{key:"getPara",value:function(e){var t=window.location.origin+window.location.pathname+window.location.search,a={},s=void 0,n=void 0;if(t.lastIndexOf(e||"?")>0){s=t.substring(t.lastIndexOf(e||"?")+1,t.length);for(var o=s.split("&"),r=0;r<o.length;r++)n=o[r].split("="),a[n[0]]=decodeURIComponent(n[1])}return a}},{key:"getCookie",value:function(e){var t=void 0,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(a))?decodeURIComponent(t[2]):null}},{key:"removeDub",value:function(e){return[].concat(i()(new o.a(e)))}},{key:"isWXBrowse",value:function(){return f.isWXBrowse()}},{key:"getSiteId",value:function(){return"other"==f.isWXBrowse()?21:17}},{key:"getByteLen",value:function(e){for(var t=0,a=0;a<e.length;a++)null!==e[a].match(/[^\x00-\xff]/gi)?t+=2:t+=1;return t}},{key:"getStrByteLen",value:function(e,t){for(var a="",s=0,n=0;n<e.length&&(e.charCodeAt(n)>128?s+=2:s++,s<=t);n++)a=a.concat(e[n]);return s>t&&(a+=""),a}},{key:"getConnectType",value:function(){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{tyep:"unknown"},t=["unknown","ethernet","wifi","2g","3g","4g","none"],a=this.isWXBrowse(),s=navigator.userAgent,n="";return"number"==typeof e.type?e.type_text=t[e.type]:"androidWX"===a?"WIFI"!==e.type||"wifi"!==e.type?s.indexOf("WIFI")>0?e.type_text="wifi":e.type_text="other":e.type_text=e.type:"iphoneWX"===a?s.indexOf("WIFI")>0?e.type_text="wifi":e.type_text="other":"undefined"!==e.type?e.type_text=e.type:e.type_text="other","number"==typeof e.bandwidth&&(e.bandwidth>10?e.type="wifi":e.bandwidth>2?e.type="3g":e.bandwidth>0?e.type="2g":0==e.bandwidth?e.type="none":e.type="unknown"),"wifi"==e.type_text?n=1:S.a.weChatJudge(function(){n=0},function(){n=1}),n}},{key:"checkOpenId",value:function(){return f.checkOpenId()}},{key:"wxGetOpenId",value:function(){f.wxGetOpenId()}},{key:"mobileCheck",value:function(){s()}},{key:"timeFormate",value:function(e){var t=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],a=e.time.substring(0,10).replace(/\-/g,"/"),s=new Date(a).getDay(),n="",o="",r=t[s],i=e.time.substring(11,16);switch(parseInt(e.type)){case 1:n=e.time.substring(0,4)+"年"+e.time.substring(5,7)+"月"+e.time.substring(8,10)+"日",o=e.time.substring(5,7)+"月"+e.time.substring(8,10)+"日";break;case 2:n=e.time.substring(0,4)+"."+e.time.substring(5,7)+"."+e.time.substring(8,10),o=e.time.substring(5,7)+"."+e.time.substring(8,10)}return{year:n,years:o,week:r,hour:i}}},{key:"MillisecondToDate",value:function(e){var t=parseInt(parseInt(e)/1e3);return null!=t&&""!=t?t>60&&t<3600?t=parseInt(t/60)+"分钟":t>=3600&&t<=86400?t=parseInt(t/3600)+"小时"+parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))+"分钟":t>=86400&&(t=Math.round(parseInt(t/86400))+"天"):t="0 时 0 分0 秒",t}},{key:"MillisecondToDateNew",value:function(e){var t=parseFloat(e)/1e3;return t=null!=t&&""!=t?t>60&&t<3600?parseInt(t/60)+"分钟":t>=3600&&t<=86400?parseInt(t/3600)+"小时":parseInt(t)+"秒":"0 时 0 分0 秒"}}]),e}()),T=new C;!function(){Array.prototype.removeByValue=function(e){for(var t=0;t<this.length;t++)if(this[t]==e){this.splice(t,1);break}}}();t.a=T},31:function(e,t){},32:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},methods:{cancelClickEvent:function(){this.$emit("cancelClickEvent")},ensureClickEvent:function(){this.$emit("ensureClickEvent")}},mounted:function(){},props:{confirmParams:{type:Object}}}},33:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"maskers confirmBox-tips show"},[a("section",{staticClass:"confirmBox-inner"},[a("article",{staticClass:"confirmBox-content"},[a("article",[e.confirmParams.title?a("h2",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.confirmParams.title))]):e._e(),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.confirmParams.content,expression:"confirmParams.content"}]},[e._v(e._s(e.confirmParams.content))])])]),e._v(" "),a("footer",{staticClass:"confirmBox-btns"},[a("button",{staticClass:"confirmBox-cancelBtn",on:{click:e.cancelClickEvent}},[e._v(e._s(e.confirmParams.cancel))]),e._v(" "),a("button",{staticClass:"confirmBox-ensureBtn",on:{click:e.ensureClickEvent}},[e._v(e._s(e.confirmParams.ensure))])])])])},staticRenderFns:[]}},38:function(e,t,a){"use strict";function s(e){var t={upOrderStatusUrl:"/mcall/cms/pay/order/v1/update/"},a={orderId:e.orderId};new(function(){function s(){u()(this,s),this.init()}return d()(s,[{key:"init",value:function(){switch(e.outTradeNo=1==parseInt(e.isTest)?"":e.outTradeNo,parseInt(e.operationType)){case 1:a.outTradeNo=e.outTradeNo;break;case 2:a.status=e.status,a.payTime=e.payTime,a.outTradeNo=e.outTradeNo,a.orderType=e.orderType,a.orderSourceId=e.orderSourceId;break;case 3:a.status=e.status,a.outTradeNo=e.outTradeNo,a.orderType=e.orderType,a.orderSourceId=e.orderSourceId;break;case 4:a.status=e.status,a.orderType=e.orderType,a.orderSourceId=e.orderSourceId,e.charge&&"true"==e.charge&&(a.outTradeNo=e.outTradeNo,a.refundReason=e.refundReason,a.refundReasonDesc=e.refundReasonDesc);break;case 5:a.status=e.status,a.outRefundNo=e.outRefundNo,a.refundAmount=e.refundAmount,a.refundTime=e.refundTime;break;case 6:a.status=e.status}2==e.orderType&&(a.reservationStatus=e.reservationStatus),p.a.ajax({url:t.upOrderStatusUrl,method:"POST",data:a,done:function(t){e.callBack(t)},fail:function(t){e.errorCallBack()}})}}]),s}())(e)}function n(e){var t={wxBasePath:"",prepayPth:"/mcall/base/pay/external/v1/createPrepaidOrder/",operationOrderPth:"/mcall/customer/operation/order/v1/update/"},a={};new(function(){function n(){u()(this,n),this.init(),console.log(e)}return d()(n,[{key:"init",value:function(){console.log("微信支付");var t=this;1==parseInt(e.isTest)?t.paySuccess():t.wxReady()}},{key:"wxReady",value:function(){var e=this;h.wxGetToken({callBack:function(t){t.data.responseStatus&&(a.token=t.data.responseData.token,a.nonceStr=t.nonceStr,a.ipAddr=t.data.responseData.ipAddr,console.log("-------------token数据--------------"),console.log(t),e.prepaidOrder({token:a.token,nonceStr:a.nonceStr,ipAddr:a.ipAddr}))}})}},{key:"prepaidOrder",value:function(n){var o=this,r={total_fee:100*e.total_fee,body:"唯医骨科-"+e.body,trade_type:"JSAPI",scene:1,siteId:1,roleId:"2",openid:localStorage.getItem("openId"),nonceStr:n.nonceStr,token:n.token,ipAddr:n.ipAddr};console.log("-------------预支付参数--------------"),console.log(r),p.a.ajax({url:t.prepayPth,method:"POST",data:r,done:function(t){console.log(t),t&&"OK"==t.return_msg&&(console.log(t),a.dataL1=t,localStorage.setItem("orderNumber",t.out_trade_no),s({operationType:"1",orderId:e.orderId,outTradeNo:t.out_trade_no,callBack:function(e){e&&e.responseObject&&e.responseObject.responseStatus&&o.checkWxPay()},errorCallBack:function(){}}))}})}},{key:"checkWxPay",value:function(){var e=this;"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e.onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e.onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",e.onBridgeReady)):e.onBridgeReady()}},{key:"onBridgeReady",value:function(){var t=this,s=a.dataL1;Math.round((new Date).getTime()/1e3);console.log("-----pay-----"),WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:s.appid,timeStamp:s.timeStamp,nonceStr:s.nonceStr,package:"prepay_id="+s.prepay_id,signType:"MD5",paySign:s.sign},function(a){"get_brand_wcpay_request:ok"==a.err_msg?1==e.orderType&&0==e.orderSourceId?"shuntDoctor"==e.doctorType?t.creatShuntInquiryId({queryCallBack:function(a){e.orderSourceId=a,t.paySuccess()}}):t.creatInquiryId({queryCallBack:function(a){e.orderSourceId=a,t.paySuccess()}}):t.paySuccess():t.payError()})}},{key:"paySuccess",value:function(){s({operationType:"2",orderId:e.orderId,orderType:e.orderType,reservationStatus:2==e.orderType?e.reservationStatus:"",orderSourceId:e.orderSourceId,outTradeNo:1==parseInt(e.isTest)?h.mathRandomNum({numberValue:10}):localStorage.getItem("orderNumber"),status:"2",payTime:"1",callBack:function(t){t&&t.responseObject&&t.responseObject.responseStatus?e.callBack({responseStatus:"true",out_trade_no:localStorage.getItem("orderNumber")}):common.popup({text:"更新订单失败"})},errorCallBack:function(){common.popup({text:"更新订单失败"})}})}},{key:"payError",value:function(){s({operationType:"3",orderId:e.orderId,orderType:e.orderType,reservationStatus:2==e.orderType?e.reservationStatus:"",orderSourceId:e.orderSourceId,outTradeNo:localStorage.getItem("orderNumber"),status:"1",payTime:"",callBack:function(t){t&&t.responseObject&&t.responseObject.responseStatus&&e.callBack({responseStatus:"false"})},errorCallBack:function(){}})}},{key:"creatInquiryId",value:function(e){p.a.ajax({url:"/mcall/customer/case/consultation/v1/getMapById/",method:"POST",data:{caseId:p.a.getPara().caseId,customerId:p.a.getPara().doctorCustomerId||localStorage.getItem("docId"),consultationType:1,siteId:17},done:function(t){"NO DATA"==t.responseObject.responseMessage&&p.a.ajax({url:"/mcall/customer/case/consultation/v1/create/",method:"POST",data:{caseId:p.a.getPara().caseId,customerId:p.a.getPara().doctorCustomerId||localStorage.getItem("docId"),patientCustomerId:p.a.getPara().patientCustomerId,patientId:p.a.getPara().patientId,consultationType:1,consultationState:-1,consultationLevel:localStorage.getItem("orderPayType"),siteId:17,caseType:0},done:function(t){t.responseObject.responseStatus&&(localStorage.removeItem("docId"),sessionStorage.setItem("orderSourceId",t.responseObject.responsePk),e.queryCallBack(t.responseObject.responsePk))}})}})}},{key:"creatShuntInquiryId",value:function(t){p.a.ajax({url:"/mcall/customer/case/consultation/v1/getMapById/",method:"POST",data:{caseId:e.caseId,customerId:0,consultationType:0,siteId:17},done:function(a){"NO DATA"==a.responseObject.responseMessage&&p.a.ajax({url:"/mcall/customer/case/consultation/v1/create/",method:"POST",data:{caseId:e.caseId,customerId:0,patientCustomerId:e.patientCustomerId,patientId:e.patientId,consultationType:0,consultationState:4,siteId:17,caseType:0},done:function(e){e.responseObject.responseStatus&&t.queryCallBack(e.responseObject.responsePk)}})}})}}]),n}())(e)}function o(e){var t={wxBasePath:"",prepayPth:"/mcall/base/pay/external/v1/createPrepaidOrder/",operationOrderPth:"/mcall/customer/operation/order/v1/update/"},a={};new(function(){function s(){u()(this,s),this.init()}return d()(s,[{key:"init",value:function(){console.log("H5支付");var t=this;1==parseInt(e.isTest)?t.paySuccess():t.wxReady()}},{key:"wxReady",value:function(){var e=this;h.wxGetTokenPlus().then(function(t){t.data.responseStatus&&(a.token=t.data.responseData.token,a.nonceStr=t.nonceStr,a.ipAddr=t.data.responseData.ipAddr,e.prepaidOrder({token:a.token,nonceStr:a.nonceStr,ipAddr:a.ipAddr}))}).catch(function(e){console.log("h5,支付接口错误")})}},{key:"prepaidOrder",value:function(s){var n=this,o={total_fee:100*e.total_fee,body:"唯医骨科-"+e.body,trade_type:"MWEB",scene:1,siteId:1,roleId:"2",nonceStr:s.nonceStr,token:s.token,ipAddr:s.ipAddr};console.log(o),p.a.ajax({url:t.prepayPth,method:"POST",data:o,done:function(e){e&&"OK"==e.return_msg&&(console.log(e),a.dataL1=e,localStorage.setItem("orderNumber",e.out_trade_no),n.h5AskPay(e))}})}},{key:"h5AskPay",value:function(){var e=a.dataL1;console.log("-----pay-----"),localStorage.setItem("payOk",1),console.log(e.mweb_url),window.location.href=e.mweb_url+"&redirect_url="+encodeURIComponent(window.location.href)}}]),s}())(e)}function r(e){var t={outTradeNo:e.outTradeNo,scene:1,roleId:2,nonceStr:localStorage.getItem("nonceStr"),siteId:1,token:localStorage.getItem("token"),ipAddr:localStorage.getItem("ipAddr")};return console.log(t),new g.a(function(e,a){p.a.ajax({url:v.payResultUrl,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t,done:function(t){t&&t.responseData&&t.responseData.dataList?e(t.responseData.dataList):a(new Error("望天，接口出错了"))}})})}function i(e){var t={createOrder:"/mcall/cms/pay/order/v1/create/",updateOrder:"/mcall/cms/pay/order/v1/update/"};new(function(){function a(){u()(this,a),this.init()}return d()(a,[{key:"init",value:function(){this.firstLoad(),console.log(e)}},{key:"firstLoad",value:function(){var a=this;this.createOrderData={caseId:e.data.caseId,patientCustomerId:e.data.patientCustomerId,patientId:e.data.patientId,doctorId:e.data.doctorId,orderType:e.data.orderType,orderSourceId:e.data.orderSourceId,orderSourceType:e.data.orderSourceType,visitSiteId:"17"},"true"==e.data.isCharge?(this.createOrderData.orderAmount=e.data.orderAmount,this.createOrderData.status="1"):this.createOrderData.status="2",p.a.ajax({url:t.createOrder,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.createOrderData,done:function(t){t&&t.responseObject&&t.responseObject.responsePk?(a.orderId=t.responseObject.responsePk,a.orderSuccess({orderId:t.responseObject.responsePk})):e.backCreateError()},fail:function(e){}})}},{key:"orderSuccess",value:function(){var t=this;switch(parseInt(e.data.orderType)){case 1:case 3:"true"===e.data.isCharge?y.a.weChatJudge(function(e){t.goWxPay(e)},function(e){t.goH5Pay(e)}):e.backCreateSuccess(this.orderId);break;case 2:e.backCreateSuccess(this.orderId)}}},{key:"goWxPay",value:function(){n({isTest:0,orderId:this.orderId,orderType:e.data.orderType,orderSourceId:e.data.orderSourceId,total_fee:e.data.orderAmount,body:e.data.body,doctorType:e.data.doctorType,caseId:e.data.caseId,patientCustomerId:e.data.patientCustomerId,patientId:e.data.patientId,callBack:function(t){"true"===t.responseStatus?e.wxPaySuccess():e.wxPayError()}})}},{key:"goH5Pay",value:function(){o({isTest:0,orderId:this.orderId,orderType:e.data.orderType,orderSourceId:e.data.orderSourceId,total_fee:e.data.orderAmount,body:e.data.body,callBack:function(e){}})}}]),a}())(e)}var c=a(0),u=a.n(c),l=a(1),d=a.n(l),p=a(3),m=a(11),g=a.n(m),f=(a(7),function(){function e(t){u()(this,e)}return d()(e,[{key:"mathRandomNum",value:function(e){for(var t="",a=e.numberValue,s=[0,1,2,3,4,5,6,7,8,9],n=0;n<a;n++){t+=s[Math.floor(10*Math.random())]}return t}},{key:"mathRandom",value:function(e){for(var t="",a=e.numberValue,s=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n=0;n<a;n++){t+=s[Math.floor(36*Math.random())]}return t.toLowerCase()}},{key:"wxGetTokenPlus",value:function(){var e=this.mathRandom({numberValue:32});return new g.a(function(t,a){p.a.ajax({url:"/mcall/base/pay/external/v1/getToken/",method:"POST",data:{roleId:2,nonceStr:e,siteId:1},done:function(s){localStorage.setItem("validityTime",Math.round((new Date).getTime()/1e3)),localStorage.setItem("token",s.responseData.token),localStorage.setItem("ipAddr",s.responseData.ipAddr),localStorage.setItem("nonceStr",e),s&&s.responseStatus?t({data:s,nonceStr:e}):a(err)}})})}},{key:"wxGetToken",value:function(e){var t=this.mathRandom({numberValue:32});p.a.ajax({url:"/mcall/base/pay/external/v1/getToken/",method:"POST",data:{roleId:2,nonceStr:t,siteId:1},done:function(a){localStorage.setItem("validityTime",Math.round((new Date).getTime()/1e3)),localStorage.setItem("token",a.responseData.token),localStorage.setItem("nonceStr",t),a&&a.responseData&&a.responseData.token&&a.responseData.token.length>0&&e.callBack({data:a,nonceStr:t})}})}},{key:"checkToken",value:function(){var e=Math.round((new Date).getTime()/1e3),t=localStorage.getItem("validityTime");return null!=t&&e-t<7200}},{key:"checkOpenId",value:function(){var e=localStorage.getItem("openId"),t="";return null!=e?t=!0:(t=!1,sessionStorage.getItem("count")&&sessionStorage.getItem("count").length>0&&sessionStorage.removeItem("count")),t}},{key:"wxGetOpenId",value:function(){var e=window.location.href,t=encodeURIComponent(e),a="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxaa5288ad7f627608&redirect_uri="+t+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect";if(common.getpara().code)-1===window.location.href.indexOf("openId")&&(window.location.href="http://m.allinmed.cn/mcall/wx/tocure/interact/v1/view/?ref="+localStorage.getItem("currentUrl")+"&response_type=code&scope=snsapi_base&state=pay&code="+common.getpara().code+"#wechat_redirect");else if(-1!==window.location.href.indexOf("openId")){var s=sessionStorage.getItem("count");s||(sessionStorage.setItem("count",1),localStorage.getItem("currentUrl")&&-1!=localStorage.getItem("currentUrl").indexOf("?")?window.location.href=localStorage.getItem("currentUrl")+"&openId="+common.getpara().openId:window.location.href=localStorage.getItem("currentUrl")+"?openId="+common.getpara().openId,localStorage.setItem("openId",common.getpara().openId))}else localStorage.setItem("currentUrl",e),window.location.href=a}}]),e}()),h=new f,v=(a(96),{payResultUrl:"/mcall/base/pay/external/v1/getResultBack/"}),y=a(9),I=function(){function e(t){u()(this,e)}return d()(e,[{key:"wxCloseOrder",value:function(){}},{key:"wxCreateOrder",value:function(e){i(e)}},{key:"wxUpOrder",value:function(e){s(e)}},{key:"wxPay",value:function(e){n(e)}},{key:"H5Pay",value:function(e){o(e)}},{key:"PayResult",value:function(e){return r(e)}}]),e}();t.a=new I},44:function(e,t){},5:function(e,t,a){"use strict";var s=a(0),n=a.n(s),o=a(1),r=a.n(o),i=function(){function e(){n()(this,e)}return r()(e,[{key:"getPara",value:function(e){var t=window.location.origin+window.location.pathname+window.location.search,a={},s=void 0,n=void 0;if(t.lastIndexOf(e||"?")>0){s=t.substring(t.lastIndexOf(e||"?")+1,t.length);for(var o=s.split("&"),r=0;r<o.length;r++)n=o[r].split("="),a[n[0]]=decodeURIComponent(n[1])}return a}},{key:"browser",value:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,qq:" qq"==e.match(/\sQQ/i)}}}]),e}();t.a=new i},6:function(e,t,a){"use strict";function s(e){i.a.interceptors.request.use(function(t){return document.querySelector(".ev-loading")&&(document.querySelector(".ev-loading").style.display="block"),e.beforeSend&&e.beforeSend(t),t}),i()({url:e.url,method:e.method,data:e.data,transformRequest:[function(e){return"paramJson="+o()(e)}],headers:{"X-Requested-With":"XMLHttpRequest"},timeout:3e4}).then(function(t){e.done(t.data),document.querySelector(".ev-loading")&&(document.querySelector(".ev-loading").style.display="none")}).catch(function(t){e.fail&&e.fail(t)})}t.a=s;var n=a(8),o=a.n(n),r=a(18),i=a.n(r)},86:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="undefined"!=typeof window;s&&(window.Swiper=a(64)),t.default={name:"swiper",props:{options:{type:Object,default:function(){return{autoplay:3500}}},notNextTick:{type:Boolean,default:function(){return!1}}},data:function(){return{defaultSwiperClasses:{wrapperClass:"swiper-wrapper"}}},ready:function(){!this.swiper&&s&&(this.swiper=new Swiper(this.$el,this.options))},mounted:function(){var e=this,t=function(){if(!e.swiper&&s){delete e.options.notNextTick;var t=!1;for(var a in e.defaultSwiperClasses)e.defaultSwiperClasses.hasOwnProperty(a)&&e.options[a]&&(t=!0,e.defaultSwiperClasses[a]=e.options[a]);var n=function(){e.swiper=new Swiper(e.$el,e.options)};t?e.$nextTick(n):n()}}(this.options.notNextTick||this.notNextTick)?t():this.$nextTick(t)},updated:function(){this.swiper&&this.swiper.update()},beforeDestroy:function(){this.swiper&&(this.swiper.destroy(),delete this.swiper)}}},87:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"swiper-container"},[e._t("parallax-bg"),e._v(" "),a("div",{class:e.defaultSwiperClasses.wrapperClass},[e._t("default")],2),e._v(" "),e._t("pagination"),e._v(" "),e._t("button-prev"),e._v(" "),e._t("button-next"),e._v(" "),e._t("scrollbar")],2)},staticRenderFns:[]}},88:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"swiper-slide",data:function(){return{slideClass:"swiper-slide"}},ready:function(){this.update()},mounted:function(){this.update(),this.$parent.options.slideClass&&(this.slideClass=this.$parent.options.slideClass)},updated:function(){this.update()},attached:function(){this.update()},methods:{update:function(){this.$parent&&this.$parent.swiper&&this.$parent.swiper.update&&(this.$parent.swiper.update(!0),this.$parent.options.loop&&this.$parent.swiper.reLoop())}}}},89:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.slideClass},[e._t("default")],2)},staticRenderFns:[]}},9:function(e,t,a){"use strict";var s=a(0),n=a.n(s),o=a(1),r=a.n(o),i=a(7),c=(a.n(i),function(){function e(){n()(this,e)}return r()(e,[{key:"weChatJudge",value:function(e,t){var a=window.navigator.userAgent.toLowerCase();a.includes("micromessenger")?e(a):t(a)}}]),e}());t.a=new c},90:function(e,t){}},[1318]);